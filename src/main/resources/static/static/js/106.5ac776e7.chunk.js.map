{"version":3,"file":"static/js/106.5ac776e7.chunk.js","mappings":"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","sources":["../node_modules/@ant-design/icons-svg/es/asn/MailOutlined.js","../node_modules/@ant-design/icons/es/icons/MailOutlined.js","components/NotificationPreferences.js","screens/Settings.js"],"sourcesContent":["// This icon file is generated automatically.\nvar MailOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z\" } }] }, \"name\": \"mail\", \"theme\": \"outlined\" };\nexport default MailOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport MailOutlinedSvg from \"@ant-design/icons-svg/es/asn/MailOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar MailOutlined = function MailOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: MailOutlinedSvg\n  }));\n};\n\n/**![mail](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkyOCAxNjBIOTZjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjY0MGMwIDE3LjcgMTQuMyAzMiAzMiAzMmg4MzJjMTcuNyAwIDMyLTE0LjMgMzItMzJWMTkyYzAtMTcuNy0xNC4zLTMyLTMyLTMyem0tNDAgMTEwLjhWNzkySDEzNlYyNzAuOGwtMjcuNi0yMS41IDM5LjMtNTAuNSA0Mi44IDMzLjNoNjQzLjFsNDIuOC0zMy4zIDM5LjMgNTAuNS0yNy43IDIxLjV6TTgzMy42IDIzMkw1MTIgNDgyIDE5MC40IDIzMmwtNDIuOC0zMy4zLTM5LjMgNTAuNSAyNy42IDIxLjUgMzQxLjYgMjY1LjZhNTUuOTkgNTUuOTkgMCAwMDY4LjcgMEw4ODggMjcwLjhsMjcuNi0yMS41LTM5LjMtNTAuNS00Mi43IDMzLjJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(MailOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'MailOutlined';\n}\nexport default RefIcon;","import { MailOutlined, BellOutlined, SettingOutlined } from '@ant-design/icons';\nimport {\n  Card,\n  Form,\n  Switch,\n  Select,\n  Button,\n  message,\n  Divider,\n  Typography,\n  Space,\n  Alert,\n  Input\n} from 'antd';\nimport React, { useState, useEffect } from 'react';\n\nimport apiClient from '../api/client';\nimport { getCurrentUser } from '../services/auth';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\nconst NotificationPreferences = () => {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const [preferences, setPreferences] = useState({\n    email: {\n      enabled: true,\n      address: '',\n      workflowCreated: true,\n      workflowExtended: true,\n      workflowCompleted: true,\n      workflowStateChanged: true,\n      workflowOverdue: true,\n      queryRaised: true,\n      queryResolved: true,\n      queryAssigned: true,\n      queryOverdue: true\n    },\n    general: {\n      frequency: 'immediate', // immediate, daily, weekly\n      quietHours: {\n        enabled: false,\n        start: '18:00',\n        end: '08:00'\n      }\n    }\n  });\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    const loadPreferencesWithAbort = async () => {\n      setLoading(true);\n      try {\n        const username = getCurrentUser();\n        if (!username) {\n          console.error('No authenticated user found');\n          message.error('Please log in to view notification preferences');\n          return;\n        }\n        \n        const data = await apiClient.get(`/users/${username}/notification-preferences`, {\n          signal: controller.signal\n        });\n        if (!controller.signal.aborted) {\n          console.log('API Response:', data);\n          console.log('Email preferences from API:', data.email);\n          setPreferences(data);\n          \n          // Reset form and set new values\n          form.resetFields();\n          form.setFieldsValue(data);\n          \n          console.log('Form values after setting:', form.getFieldsValue());\n        }\n      } catch (error) {\n        if (!controller.signal.aborted) {\n          console.error('Failed to load notification preferences:', error);\n          message.error('Failed to load notification preferences');\n        }\n      } finally {\n        if (!controller.signal.aborted) {\n          setLoading(false);\n        }\n      }\n    };\n\n    loadPreferencesWithAbort();\n\n    return () => {\n      controller.abort();\n    };\n  }, [form]); // Add form to dependency array\n\n\n\n  const savePreferences = async values => {\n    setLoading(true);\n    try {\n      const username = getCurrentUser();\n      if (!username) {\n        console.error('No authenticated user found');\n        message.error('Please log in to save notification preferences');\n        return;\n      }\n      \n      await apiClient.put(`/users/${username}/notification-preferences`, values);\n      setPreferences(values);\n      message.success('Notification preferences saved successfully');\n    } catch (error) {\n      console.error('Failed to save notification preferences:', error);\n      message.error('Failed to save notification preferences');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFormSubmit = values => {\n    savePreferences(values);\n  };\n\n  const notificationTypes = [\n    {\n      key: 'workflowCreated',\n      label: 'Workflow Created',\n      description: 'When a new MSDS workflow is created'\n    },\n    {\n      key: 'workflowExtended',\n      label: 'Workflow Extended',\n      description: 'When a workflow is extended to your team'\n    },\n    {\n      key: 'workflowCompleted',\n      label: 'Workflow Completed',\n      description: 'When a workflow is completed'\n    },\n    {\n      key: 'workflowStateChanged',\n      label: 'Workflow State Changed',\n      description: 'When workflow state transitions occur'\n    },\n    {\n      key: 'workflowOverdue',\n      label: 'Workflow Overdue',\n      description: 'When workflows become overdue'\n    },\n    { key: 'queryRaised', label: 'Query Raised', description: 'When new queries are raised' },\n    { key: 'queryResolved', label: 'Query Resolved', description: 'When queries are resolved' },\n    {\n      key: 'queryAssigned',\n      label: 'Query Assigned',\n      description: 'When queries are assigned to your team'\n    },\n    { key: 'queryOverdue', label: 'Query Overdue', description: 'When queries become overdue' }\n  ];\n\n  return (\n    <div style={{ padding: '24px', maxWidth: '800px', margin: '0 auto' }}>\n      <div style={{ marginBottom: '24px' }}>\n        <Title level={2}>\n          <BellOutlined style={{ marginRight: '8px' }} />\n          Notification Preferences\n        </Title>\n        <Text type=\"secondary\">\n          Configure how and when you receive notifications about MSDS workflow events.\n        </Text>\n      </div>\n\n      <Form form={form} layout=\"vertical\" onFinish={handleFormSubmit}>\n        {/* Email Notifications */}\n        <Card\n          title={\n            <Space>\n              <MailOutlined />\n              Email Notifications\n            </Space>\n          }\n          style={{ marginBottom: '16px' }}\n        >\n          <Form.Item name={['email', 'enabled']} valuePropName=\"checked\">\n            <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" />\n          </Form.Item>\n\n          <Form.Item\n            name={['email', 'address']}\n            label=\"Email Address\"\n            rules={[{ type: 'email', message: 'Please enter a valid email address' }]}\n          >\n            <Input\n              type=\"email\"\n              // placeholder=\"your.email@company.com\"\n            />\n          </Form.Item>\n\n          <Divider orientation=\"left\">Email Notification Types</Divider>\n\n          {notificationTypes.map(type => (\n            <div key={type.key} style={{ marginBottom: '16px' }}>\n              <div\n                style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}\n              >\n                <div>\n                  <Text strong>{type.label}</Text>\n                  <br />\n                  <Text type=\"secondary\" style={{ fontSize: '12px' }}>\n                    {type.description}\n                  </Text>\n                </div>\n                <Form.Item\n                  name={['email', type.key]}\n                  valuePropName=\"checked\"\n                  style={{ margin: 0 }}\n                >\n                  <Switch size=\"small\" />\n                </Form.Item>\n              </div>\n            </div>\n          ))}\n        </Card>\n\n\n\n        {/* General Settings */}\n        <Card\n          title={\n            <Space>\n              <SettingOutlined />\n              General Settings\n            </Space>\n          }\n          style={{ marginBottom: '24px' }}\n        >\n          <Form.Item\n            name={['general', 'frequency']}\n            label=\"Notification Frequency\"\n            help=\"How often you want to receive notifications\"\n          >\n            <Select>\n              <Option value=\"immediate\">Immediate</Option>\n              <Option value=\"daily\">Daily Digest</Option>\n              <Option value=\"weekly\">Weekly Summary</Option>\n            </Select>\n          </Form.Item>\n\n          <Form.Item\n            name={['general', 'quietHours', 'enabled']}\n            valuePropName=\"checked\"\n            label=\"Quiet Hours\"\n            help=\"Disable notifications during specified hours\"\n          >\n            <Switch />\n          </Form.Item>\n\n          <div style={{ display: 'flex', gap: '16px' }}>\n            <Form.Item\n              name={['general', 'quietHours', 'start']}\n              label=\"Start Time\"\n              style={{ flex: 1 }}\n            >\n              <Input type=\"time\" style={{ width: '100%' }} />\n            </Form.Item>\n            <Form.Item name={['general', 'quietHours', 'end']} label=\"End Time\" style={{ flex: 1 }}>\n              <Input type=\"time\" style={{ width: '100%' }} />\n            </Form.Item>\n          </div>\n        </Card>\n\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading} size=\"large\">\n            Save Preferences\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n\nexport default NotificationPreferences;\n","import { Card, Radio, Typography, Tabs } from 'antd';\nimport React, { useEffect, useState } from 'react';\n\nimport NotificationPreferences from '../components/NotificationPreferences';\n\nconst { Title } = Typography;\nconst { TabPane } = Tabs;\n\nconst THEME_KEY = 'themeMode';\n\nconst getSystemTheme = () => {\n  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n    return 'dark';\n  }\n  return 'light';\n};\n\nconst Settings = () => {\n  const [mode, setMode] = useState(() => {\n    return localStorage.getItem(THEME_KEY) || 'system';\n  });\n\n  useEffect(() => {\n    let theme = mode;\n    if (mode === 'system') {\n      theme = getSystemTheme();\n    }\n    document.body.setAttribute('data-theme', theme);\n    localStorage.setItem(THEME_KEY, mode);\n\n    // Add system theme change listener when in system mode\n    if (mode === 'system') {\n      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n      const handleSystemThemeChange = e => {\n        const newTheme = e.matches ? 'dark' : 'light';\n        document.body.setAttribute('data-theme', newTheme);\n      };\n\n      mediaQuery.addEventListener('change', handleSystemThemeChange);\n\n      return () => {\n        mediaQuery.removeEventListener('change', handleSystemThemeChange);\n      };\n    }\n  }, [mode]);\n\n  return (\n    <div style={{ padding: '24px', maxWidth: '1200px', margin: '0 auto' }}>\n      <Title level={2}>Settings</Title>\n\n      <Tabs defaultActiveKey=\"notifications\" type=\"card\">\n        <TabPane tab=\"Notifications\" key=\"notifications\">\n          <NotificationPreferences />\n        </TabPane>\n\n        <TabPane tab=\"Appearance\" key=\"appearance\">\n          <Card style={{ maxWidth: 400 }}>\n            <Title level={4}>Theme Settings</Title>\n            <div style={{ marginBottom: 16 }}>Theme Mode:</div>\n            <Radio.Group value={mode} onChange={e => setMode(e.target.value)} buttonStyle=\"solid\">\n              <Radio.Button value=\"system\">System</Radio.Button>\n              <Radio.Button value=\"light\">Light</Radio.Button>\n              <Radio.Button value=\"dark\">Dark</Radio.Button>\n            </Radio.Group>\n          </Card>\n        </TabPane>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default Settings;\n"],"names":["MailOutlined","props","ref","React","AntdIcon","_extends","icon","MailOutlinedSvg","Title","Text","Typography","Option","Select","NotificationPreferences","form","Form","useForm","loading","setLoading","useState","preferences","setPreferences","email","enabled","address","workflowCreated","workflowExtended","workflowCompleted","workflowStateChanged","workflowOverdue","queryRaised","queryResolved","queryAssigned","queryOverdue","general","frequency","quietHours","start","end","useEffect","controller","AbortController","async","username","getCurrentUser","console","error","message","data","apiClient","get","signal","aborted","log","resetFields","setFieldsValue","getFieldsValue","loadPreferencesWithAbort","abort","_jsxs","style","padding","maxWidth","margin","children","marginBottom","level","_jsx","BellOutlined","marginRight","type","layout","onFinish","values","put","success","savePreferences","Card","title","Space","Item","name","valuePropName","Switch","checkedChildren","unCheckedChildren","label","rules","Input","Divider","orientation","key","description","map","display","justifyContent","alignItems","strong","fontSize","size","SettingOutlined","help","value","gap","flex","width","Button","htmlType","TabPane","Tabs","THEME_KEY","Settings","mode","setMode","localStorage","getItem","theme","window","matchMedia","matches","document","body","setAttribute","setItem","mediaQuery","handleSystemThemeChange","e","newTheme","addEventListener","removeEventListener","defaultActiveKey","tab","Radio","onChange","target","buttonStyle"],"sourceRoot":""}