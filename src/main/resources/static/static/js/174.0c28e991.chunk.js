"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[174],{6174:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Y});var s=i(5920),l=i(1199),o=i(6886),a=i(6237),n=i(3390),d=i(119),r=i(5929),u=i(6840),c=i(9470),p=i(6191),g=i(6091),f=i(4786),m=i(3357),x=i(9760),h=i(4524),A=i(9654),y=i(8047),b=i(3722),j=i(9172),v=i(2261),C=i(5964),P=i(7490),_=i(5206),q=i(9073),S=i(1645),w=i(7326),k=i(9472),z=i(5444),E=i(7692),I=i(7419),F=i(1686),R=i(6612),T=i(8918),B=i(6399),W=i(6263),D=i(6651),U=i(3927),L=i(5043),N=i(3216),M=i(6649),O=i(7258),H=i(579);const{Title:G,Text:Q,Paragraph:$}=U.A,{Panel:V}=w.A,{TextArea:J}=z.A,{TabPane:K}=T.A,Y=e=>{var t,i,w,z,U,$,V;let{workflowId:J,onClose:Y}=e;const{workflowId:Z}=(0,N.g)(),X=(0,N.Zp)(),ee=J||Z,[te,ie]=(0,L.useState)(!0),[se,le]=(0,L.useState)(null),[oe,ae]=(0,L.useState)(null),[ne,de]=(0,L.useState)(0),[re,ue]=(0,L.useState)("overview");console.log("QuestionnaireViewerPage mounted with workflowId:",ee);const ce=(null===oe||void 0===oe||null===(t=oe.plantData)||void 0===t?void 0:t.plantInputs)||{},{totalUserEditableFields:pe,completedUserEditableFields:ge,completionPercentage:fe}=oe?(0,O.L$)(ce,null===(i=oe.template)||void 0===i?void 0:i.steps):{totalUserEditableFields:0,completedUserEditableFields:0,completionPercentage:0},me=(0,L.useCallback)(async()=>{try{ie(!0),console.log("Loading questionnaire data for workflowId:",ee);const e=await M.default.get(`/questionnaire/${ee}`);console.log("Questionnaire response:",e),ae(e),le(null)}catch(t){var e;console.error("Error loading questionnaire:",t),console.error("Error details:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),le("Failed to load questionnaire data. Please try again.")}finally{ie(!1)}},[ee]);(0,L.useEffect)(()=>{ee?me():(le("No workflow ID provided"),ie(!1))},[me,ee]);const xe=(e,t,i)=>{const s=e.fields.filter(e=>!e.isCqsAutoPopulated&&!e.disabled),l=s.filter(e=>{const i=t[e.name]||"";return i&&""!==i.trim()}).length,d=s.length>0?l/s.length*100:0;return(0,H.jsxs)("div",{style:{marginBottom:32},children:[(0,H.jsx)(q.A,{style:{marginBottom:24,borderRadius:16,background:`linear-gradient(135deg, ${100===d?"#52c41a":d>0?"#faad14":"#8c8c8c"} 0%, ${100===d?"#73d13d":d>0?"#ffc53d":"#bfbfbf"} 100%)`,border:"none",color:"white"},bodyStyle:{padding:"24px 32px"},children:(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,H.jsx)(C.A,{size:48,style:{backgroundColor:"rgba(255,255,255,0.2)",color:"white",fontSize:20,fontWeight:700},children:e.stepNumber}),(0,H.jsxs)("div",{children:[(0,H.jsx)(G,{level:3,style:{margin:0,color:"white",fontWeight:600},children:e.title}),(0,H.jsxs)(Q,{style:{color:"rgba(255,255,255,0.8)",fontSize:14},children:[l," of ",s.length," fields completed \u2022 ",Math.round(d),"% done"]})]})]}),(0,H.jsxs)("div",{style:{textAlign:"right"},children:[(0,H.jsxs)("div",{style:{fontSize:32,fontWeight:700,marginBottom:4},children:[Math.round(d),"%"]}),(0,H.jsx)(E.A,{percent:d,showInfo:!1,strokeColor:"rgba(255,255,255,0.8)",trailColor:"rgba(255,255,255,0.2)",style:{width:120}})]})]})}),e.description&&(0,H.jsx)(q.A,{style:{marginBottom:24,borderRadius:12,borderLeft:"4px solid #1890ff",backgroundColor:"#f6ffed"},bodyStyle:{padding:"20px 24px"},children:(0,H.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[(0,H.jsx)(f.A,{style:{color:"#1890ff",fontSize:16,marginTop:2}}),(0,H.jsx)(Q,{style:{fontSize:14,color:"#595959",lineHeight:1.6},children:e.description})]})}),(0,H.jsx)(q.A,{title:(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,H.jsx)(C.A,{style:{backgroundColor:"#722ed1"},icon:(0,H.jsx)(x.A,{})}),(0,H.jsx)("span",{children:"Field Details"}),(0,H.jsx)(P.A,{count:e.fields.length,style:{backgroundColor:"#1890ff"}})]}),style:{borderRadius:16},bodyStyle:{padding:"24px"},children:e.fields.length>0?(0,H.jsx)(I.A,{gutter:[16,16],children:e.fields.map(e=>((e,t)=>{const i=t[e.name]||e.cqsValue||"",s=!i||""===i.trim(),l=e.cqsAutoPopulated;let d=i;if(!s&&"radio"===e.type&&e.options){const t=e.options.find(e=>e.value===i);d=t?t.label:i}else if(!s&&"select"===e.type&&e.options){const t=e.options.find(e=>e.value===i);d=t?t.label:i}return(0,H.jsx)(S.A,{xs:24,sm:12,lg:8,style:{marginBottom:16},children:(0,H.jsxs)(q.A,{hoverable:!0,style:{height:"100%",borderRadius:16,border:s?"2px dashed #e8e8e8":l?"2px solid #1890ff":"2px solid #f0f0f0",background:s?"#fafafa":l?"linear-gradient(135deg, #e6f7ff 0%, #f0f9ff 100%)":"#ffffff",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},bodyStyle:{padding:"20px"},children:[(0,H.jsx)("div",{style:{position:"absolute",top:0,right:0,width:0,height:0,borderLeft:"30px solid transparent",borderTop:s?"30px solid #faad14":"30px solid #52c41a"}}),(0,H.jsxs)("div",{style:{marginBottom:16,display:"flex",alignItems:"flex-start",gap:12},children:[(0,H.jsx)(C.A,{size:40,style:{backgroundColor:s?"#faad14":l?"#1890ff":"#52c41a",flexShrink:0},icon:(e=>{switch(e){case"radio":return(0,H.jsx)(a.A,{});case"select":return(0,H.jsx)(h.A,{});case"text":case"textarea":return(0,H.jsx)(g.A,{});default:return(0,H.jsx)(f.A,{})}})(e.type)}),(0,H.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,H.jsxs)(Q,{strong:!0,style:{fontSize:15,color:"#262626",display:"block",lineHeight:1.3,marginBottom:4},children:[e.label,e.required&&(0,H.jsx)(Q,{type:"danger",style:{marginLeft:4},children:"*"})]}),(0,H.jsxs)("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[(0,H.jsx)(B.A,{color:"radio"===e.type?"blue":"select"===e.type?"purple":"green",style:{fontSize:10,padding:"0 6px",borderRadius:8},children:e.type.toUpperCase()}),l&&(0,H.jsx)(B.A,{color:"processing",style:{fontSize:10,padding:"0 6px",borderRadius:8},children:"AUTO"})]})]})]}),(0,H.jsx)("div",{style:{padding:"16px",backgroundColor:s?"rgba(250, 173, 20, 0.1)":"rgba(82, 196, 26, 0.1)",borderRadius:12,border:s?"1px solid rgba(250, 173, 20, 0.3)":"1px solid rgba(82, 196, 26, 0.3)",minHeight:60,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:s?(0,H.jsxs)("div",{children:[(0,H.jsx)(c.A,{style:{color:"#faad14",fontSize:20,marginBottom:8,display:"block"}}),(0,H.jsx)(Q,{type:"secondary",style:{fontSize:13,fontStyle:"italic"},children:"No data provided"})]}):(0,H.jsxs)("div",{children:[(0,H.jsx)(n.A,{style:{color:"#52c41a",fontSize:16,marginBottom:8,display:"block"}}),(0,H.jsx)(Q,{strong:!0,style:{fontSize:14,color:"#262626"},children:d})]})}),e.helpText&&(0,H.jsx)("div",{style:{marginTop:12,padding:"8px 12px",backgroundColor:"rgba(24, 144, 255, 0.05)",borderRadius:8,borderLeft:"3px solid #1890ff"},children:(0,H.jsxs)(Q,{type:"secondary",style:{fontSize:11,lineHeight:1.4},children:[(0,H.jsx)(o.A,{style:{marginRight:4,color:"#1890ff"}}),e.helpText]})})]})},e.name)})(e,t))}):(0,H.jsx)(k.A,{description:"No fields available for this step",image:k.A.PRESENTED_IMAGE_SIMPLE})})]},e.stepNumber)};if(te)return(0,H.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px"},children:[(0,H.jsx)(F.A,{size:"large"}),(0,H.jsx)("div",{style:{marginTop:16},children:"Loading questionnaire data..."}),(0,H.jsxs)("div",{style:{marginTop:8,color:"#666"},children:["Workflow ID: ",ee]})]});if(se)return(0,H.jsx)("div",{style:{padding:24},children:(0,H.jsxs)(q.A,{children:[(0,H.jsx)(_.Ay,{icon:(0,H.jsx)(s.A,{}),onClick:()=>Y?Y():X(-1),style:{marginBottom:16},children:"Back"}),(0,H.jsx)(v.A,{message:"Error Loading Questionnaire",description:(0,H.jsxs)("div",{children:[(0,H.jsx)("div",{children:se}),(0,H.jsxs)("div",{style:{marginTop:8,fontSize:"12px",color:"#666"},children:["Workflow ID: ",ee]})]}),type:"error",showIcon:!0,action:(0,H.jsx)(_.Ay,{size:"small",onClick:me,children:"Retry"})})]})});if(!oe)return(0,H.jsx)("div",{style:{padding:24},children:(0,H.jsx)(v.A,{message:"No Data Found",description:"Questionnaire data not found.",type:"warning",showIcon:!0})});const{template:he,plantData:Ae,workflow:ye,completionStatus:be,cqsData:je,accessControl:ve}=oe;null===je||void 0===je||je.data;return console.log("Full questionnaire data:",oe),console.log("Plant data:",Ae),console.log("Plant inputs:",ce),console.log("Plant inputs keys:",Object.keys(ce)),console.log("Template steps:",null===he||void 0===he?void 0:he.steps),null!==he&&void 0!==he&&null!==(w=he.steps)&&void 0!==w&&null!==(z=w[0])&&void 0!==z&&z.fields&&console.log("First step fields:",he.steps[0].fields.map(e=>({name:e.name,label:e.label}))),(0,H.jsx)("div",{style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",minHeight:"100vh",padding:"16px"},children:(0,H.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto"},children:[(0,H.jsx)(j.A,{offsetTop:16,children:(0,H.jsx)(q.A,{style:{marginBottom:24,borderRadius:20,border:"none",boxShadow:"0 12px 40px rgba(0,0,0,0.15)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},bodyStyle:{padding:"20px 32px"},children:(0,H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:20},children:[(0,H.jsx)(_.Ay,{icon:(0,H.jsx)(s.A,{}),onClick:()=>Y?Y():X(-1),style:{backgroundColor:"rgba(255,255,255,0.15)",border:"2px solid rgba(255,255,255,0.3)",color:"white",borderRadius:12,height:44,fontWeight:600},size:"large",children:"Back"}),(0,H.jsxs)("div",{children:[(0,H.jsx)(G,{level:2,style:{margin:0,color:"white",fontWeight:700},children:"\ud83d\ude80 QRMFG Questionnaire Dashboard"}),(0,H.jsxs)(Q,{style:{color:"rgba(255,255,255,0.9)",fontSize:15},children:[null===ye||void 0===ye?void 0:ye.materialName," \u2022 ",null===ye||void 0===ye?void 0:ye.plantCode," \u2022 Workflow #",ee]})]})]}),(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,H.jsxs)(B.A,{style:{backgroundColor:"rgba(255,255,255,0.15)",border:"2px solid rgba(255,255,255,0.3)",color:"white",borderRadius:20,padding:"6px 16px",fontSize:13,fontWeight:600},children:[(0,H.jsx)(p.A,{})," READ-ONLY"]}),(0,H.jsx)(C.A.Group,{children:(0,H.jsx)(D.A,{title:null===ve||void 0===ve?void 0:ve.currentUser,children:(0,H.jsx)(C.A,{style:{backgroundColor:"#f56a00"},icon:(0,H.jsx)(b.A,{})})})})]})]})})}),(0,H.jsx)(q.A,{style:{borderRadius:20,border:"none",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",overflow:"hidden"},bodyStyle:{padding:0},children:(0,H.jsxs)(T.A,{activeKey:re,onChange:ue,size:"large",style:{margin:0},tabBarStyle:{margin:0,padding:"0 32px",backgroundColor:"#fafbfc",borderBottom:"2px solid #f0f0f0"},children:[(0,H.jsx)(K,{tab:(0,H.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8,fontSize:15,fontWeight:600},children:[(0,H.jsx)(u.A,{}),"Overview Dashboard"]}),children:(0,H.jsx)("div",{style:{padding:"32px"},children:(e=>{var t,i,s;const{template:o,plantData:d,workflow:r,completionStatus:u}=e,c=(null===o||void 0===o||null===(t=o.steps)||void 0===t?void 0:t.length)||0,p=(null===o||void 0===o||null===(i=o.steps)||void 0===i?void 0:i.filter(e=>{const t=(e.fields||[]).filter(e=>!e.isCqsAutoPopulated&&!e.disabled),i=t.filter(e=>{var t;const i=(null===d||void 0===d||null===(t=d.plantInputs)||void 0===t?void 0:t[e.name])||"";return i&&""!==i.trim()});return t.length>0&&i.length===t.length}).length)||0,f=c>0?Math.round(p/c*100):0;return(0,H.jsxs)("div",{style:{padding:"0 4px"},children:[(0,H.jsxs)(I.A,{gutter:[24,24],style:{marginBottom:32},children:[(0,H.jsx)(S.A,{xs:24,sm:12,lg:6,children:(0,H.jsx)(q.A,{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:16,color:"white",textAlign:"center"},children:(0,H.jsx)(R.A,{title:(0,H.jsx)("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Overall Progress"}),value:f,suffix:"%",valueStyle:{color:"white",fontSize:36,fontWeight:700},prefix:(0,H.jsx)(m.A,{})})})}),(0,H.jsx)(S.A,{xs:24,sm:12,lg:6,children:(0,H.jsx)(q.A,{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:16,color:"white",textAlign:"center"},children:(0,H.jsx)(R.A,{title:(0,H.jsx)("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Completed Steps"}),value:p,suffix:`/ ${c}`,valueStyle:{color:"white",fontSize:36,fontWeight:700},prefix:(0,H.jsx)(a.A,{})})})}),(0,H.jsx)(S.A,{xs:24,sm:12,lg:6,children:(0,H.jsx)(q.A,{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none",borderRadius:16,color:"white",textAlign:"center"},children:(0,H.jsx)(R.A,{title:(0,H.jsx)("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Total Fields"}),value:pe,valueStyle:{color:"white",fontSize:36,fontWeight:700},prefix:(0,H.jsx)(g.A,{})})})}),(0,H.jsx)(S.A,{xs:24,sm:12,lg:6,children:(0,H.jsx)(q.A,{style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",border:"none",borderRadius:16,color:"white",textAlign:"center"},children:(0,H.jsx)(R.A,{title:(0,H.jsx)("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Completed Fields"}),value:ge,valueStyle:{color:"white",fontSize:36,fontWeight:700},prefix:(0,H.jsx)(A.A,{})})})})]}),(0,H.jsx)(q.A,{title:(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,H.jsx)(C.A,{style:{backgroundColor:"#1890ff"},icon:(0,H.jsx)(l.A,{})}),(0,H.jsx)("span",{children:"Step Progress Timeline"})]}),style:{borderRadius:16,marginBottom:24},children:(0,H.jsx)(W.A,{mode:"left",children:null===o||void 0===o||null===(s=o.steps)||void 0===s?void 0:s.map((e,t)=>{const i=(e.fields||[]).filter(e=>!e.isCqsAutoPopulated&&!e.disabled),s=i.filter(e=>{var t;const i=(null===d||void 0===d||null===(t=d.plantInputs)||void 0===t?void 0:t[e.name])||"";return i&&""!==i.trim()}),l=i.length>0?Math.round(s.length/i.length*100):0,o=100===l;return(0,H.jsx)(W.A.Item,{color:o?"#52c41a":l>0?"#faad14":"#d9d9d9",dot:(0,H.jsx)(C.A,{size:32,style:{backgroundColor:o?"#52c41a":l>0?"#faad14":"#d9d9d9"},children:o?(0,H.jsx)(n.A,{}):e.stepNumber}),children:(0,H.jsxs)("div",{style:{paddingBottom:16},children:[(0,H.jsx)(G,{level:5,style:{margin:0,marginBottom:8},children:e.title}),(0,H.jsx)(Q,{type:"secondary",style:{display:"block",marginBottom:12},children:e.description}),(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,H.jsx)(E.A,{percent:l,size:"small",style:{flex:1},strokeColor:o?"#52c41a":"#1890ff"}),(0,H.jsxs)(Q,{strong:!0,style:{fontSize:13},children:[s.length,"/",i.length," fields"]})]})]})},t)})})})]})})(oe)})},"overview"),(0,H.jsx)(K,{tab:(0,H.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8,fontSize:15,fontWeight:600},children:[(0,H.jsx)(g.A,{}),"Detailed Steps",(0,H.jsx)(P.A,{count:(null===he||void 0===he||null===(U=he.steps)||void 0===U?void 0:U.length)||0,style:{backgroundColor:"#1890ff"}})]}),children:(0,H.jsx)("div",{style:{padding:"32px",backgroundColor:"#fafbfc"},children:(null===he||void 0===he||null===($=he.steps)||void 0===$?void 0:$.length)>0?he.steps.map(e=>xe(e,ce)):(0,H.jsx)(k.A,{description:"No questionnaire steps available",image:k.A.PRESENTED_IMAGE_SIMPLE,style:{padding:"60px 0"}})})},"details"),(0,H.jsx)(K,{tab:(0,H.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:8,fontSize:15,fontWeight:600},children:[(0,H.jsx)(l.A,{}),"Analytics"]}),children:(0,H.jsx)("div",{style:{padding:"32px"},children:(0,H.jsx)(I.A,{gutter:[24,24],children:(0,H.jsx)(S.A,{span:24,children:(0,H.jsx)(q.A,{title:(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,H.jsx)(C.A,{style:{backgroundColor:"#722ed1"},icon:(0,H.jsx)(r.A,{})}),(0,H.jsx)("span",{children:"Completion Analytics"})]}),style:{borderRadius:16},children:(0,H.jsxs)(I.A,{gutter:[24,24],children:[(0,H.jsx)(S.A,{span:8,children:(0,H.jsx)(R.A,{title:"Completion Rate",value:fe,suffix:"%",valueStyle:{color:"#3f8600"},prefix:(0,H.jsx)(y.A,{})})}),(0,H.jsx)(S.A,{span:8,children:(0,H.jsx)(R.A,{title:"Fields Remaining",value:pe-ge,valueStyle:{color:"#cf1322"},prefix:(0,H.jsx)(d.A,{})})}),(0,H.jsx)(S.A,{span:8,children:(0,H.jsx)(R.A,{title:"Auto-populated Fields",value:(null===he||void 0===he||null===(V=he.steps)||void 0===V?void 0:V.reduce((e,t)=>{var i,s;return e+((null===(i=t.fields)||void 0===i||null===(s=i.filter(e=>e.cqsAutoPopulated))||void 0===s?void 0:s.length)||0)},0))||0,valueStyle:{color:"#1890ff"},prefix:(0,H.jsx)(m.A,{})})})]})})})})})},"analytics")]})})]})})}},7258:(e,t,i)=>{i.d(t,{EO:()=>o,Jl:()=>l,L$:()=>s});const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};let t=0,i=0;((arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||[{title:"General",fields:[{name:"msds_available",isCqsAutoPopulated:!1},{name:"missing_info",isCqsAutoPopulated:!1},{name:"sourcing_asked",isCqsAutoPopulated:!1},{name:"cas_available",isCqsAutoPopulated:!1},{name:"mixture_ingredients",isCqsAutoPopulated:!1},{name:"composition_percentage",isCqsAutoPopulated:!1},{name:"total_percentage_1",isCqsAutoPopulated:!1},{name:"total_percentage",isCqsAutoPopulated:!1}]},{title:"Physical",fields:[{name:"is_corrosive",isCqsAutoPopulated:!0},{name:"corrosive_storage",isCqsAutoPopulated:!1},{name:"highly_toxic",isCqsAutoPopulated:!0},{name:"toxic_powder_handling",isCqsAutoPopulated:!1},{name:"crushing_facilities",isCqsAutoPopulated:!1},{name:"heating_facilities",isCqsAutoPopulated:!1},{name:"paste_preparation",isCqsAutoPopulated:!1}]},{title:"Flammability and Explosivity",fields:[{name:"flash_point_65",isCqsAutoPopulated:!0},{name:"petroleum_class",isCqsAutoPopulated:!0},{name:"storage_license",isCqsAutoPopulated:!1},{name:"ccoe_license",isCqsAutoPopulated:!1},{name:"flash_point_21",isCqsAutoPopulated:!0},{name:"flammable_infrastructure",isCqsAutoPopulated:!1}]},{title:"Toxicity",fields:[{name:"ld50_oral",isCqsAutoPopulated:!0},{name:"ld50_dermal",isCqsAutoPopulated:!0},{name:"lc50_inhalation",isCqsAutoPopulated:!0},{name:"exposure_minimization",isCqsAutoPopulated:!1},{name:"carcinogenic",isCqsAutoPopulated:!0},{name:"carcinogenic_control",isCqsAutoPopulated:!1}]},{title:"Storage and Handling",fields:[{name:"storage_conditions_stores",isCqsAutoPopulated:!1},{name:"storage_conditions_floor",isCqsAutoPopulated:!1},{name:"closed_loop_required",isCqsAutoPopulated:!1},{name:"work_permit_available",isCqsAutoPopulated:!1},{name:"procedures_details",isCqsAutoPopulated:!1}]},{title:"PPE",fields:[{name:"recommended_ppe",isCqsAutoPopulated:!0},{name:"ppe_in_use",isCqsAutoPopulated:!1},{name:"ppe_procurement_date",isCqsAutoPopulated:!1}]},{title:"First Aid",fields:[{name:"is_poisonous",isCqsAutoPopulated:!0},{name:"antidote_specified",isCqsAutoPopulated:!0},{name:"antidote_available",isCqsAutoPopulated:!1},{name:"antidote_source",isCqsAutoPopulated:!1},{name:"first_aid_capability",isCqsAutoPopulated:!1}]},{title:"Statutory",fields:[{name:"cmvr_listed",isCqsAutoPopulated:!0},{name:"msihc_listed",isCqsAutoPopulated:!0},{name:"factories_act_listed",isCqsAutoPopulated:!0},{name:"permissible_concentration",isCqsAutoPopulated:!1},{name:"monitoring_details",isCqsAutoPopulated:!1}]},{title:"Others",fields:[{name:"plant_inputs_required",isCqsAutoPopulated:!1},{name:"gaps_identified",isCqsAutoPopulated:!1},{name:"additional_input_1",isCqsAutoPopulated:!1},{name:"additional_input_2",isCqsAutoPopulated:!1}]}]).forEach(s=>{const l=(s.fields||[]).filter(e=>!e.isCqsAutoPopulated&&!e.disabled);t+=l.length;const o=l.filter(t=>{const i=e[t.name];return Array.isArray(i)?i.length>0:i&&""!==i&&null!==i&&void 0!==i});i+=o.length});const s=t>0?Math.round(i/t*100):0;return{totalUserEditableFields:t,completedUserEditableFields:i,completionPercentage:s}},l=function(){let e=0,t=0,i=0;return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||[{title:"General",fields:[{name:"msds_available",isCqsAutoPopulated:!1},{name:"missing_info",isCqsAutoPopulated:!1},{name:"sourcing_asked",isCqsAutoPopulated:!1},{name:"cas_available",isCqsAutoPopulated:!1},{name:"mixture_ingredients",isCqsAutoPopulated:!1},{name:"composition_percentage",isCqsAutoPopulated:!1},{name:"total_percentage_1",isCqsAutoPopulated:!1},{name:"total_percentage",isCqsAutoPopulated:!1}]},{title:"Physical",fields:[{name:"is_corrosive",isCqsAutoPopulated:!0},{name:"corrosive_storage",isCqsAutoPopulated:!1},{name:"highly_toxic",isCqsAutoPopulated:!0},{name:"toxic_powder_handling",isCqsAutoPopulated:!1},{name:"crushing_facilities",isCqsAutoPopulated:!1},{name:"heating_facilities",isCqsAutoPopulated:!1},{name:"paste_preparation",isCqsAutoPopulated:!1}]},{title:"Flammability and Explosivity",fields:[{name:"flash_point_65",isCqsAutoPopulated:!0},{name:"petroleum_class",isCqsAutoPopulated:!0},{name:"storage_license",isCqsAutoPopulated:!1},{name:"ccoe_license",isCqsAutoPopulated:!1},{name:"flash_point_21",isCqsAutoPopulated:!0},{name:"flammable_infrastructure",isCqsAutoPopulated:!1}]},{title:"Toxicity",fields:[{name:"ld50_oral",isCqsAutoPopulated:!0},{name:"ld50_dermal",isCqsAutoPopulated:!0},{name:"lc50_inhalation",isCqsAutoPopulated:!0},{name:"exposure_minimization",isCqsAutoPopulated:!1},{name:"carcinogenic",isCqsAutoPopulated:!0},{name:"carcinogenic_control",isCqsAutoPopulated:!1}]},{title:"Storage and Handling",fields:[{name:"storage_conditions_stores",isCqsAutoPopulated:!1},{name:"storage_conditions_floor",isCqsAutoPopulated:!1},{name:"closed_loop_required",isCqsAutoPopulated:!1},{name:"work_permit_available",isCqsAutoPopulated:!1},{name:"procedures_details",isCqsAutoPopulated:!1}]},{title:"PPE",fields:[{name:"recommended_ppe",isCqsAutoPopulated:!0},{name:"ppe_in_use",isCqsAutoPopulated:!1},{name:"ppe_procurement_date",isCqsAutoPopulated:!1}]},{title:"First Aid",fields:[{name:"is_poisonous",isCqsAutoPopulated:!0},{name:"antidote_specified",isCqsAutoPopulated:!0},{name:"antidote_available",isCqsAutoPopulated:!1},{name:"antidote_source",isCqsAutoPopulated:!1},{name:"first_aid_capability",isCqsAutoPopulated:!1}]},{title:"Statutory",fields:[{name:"cmvr_listed",isCqsAutoPopulated:!0},{name:"msihc_listed",isCqsAutoPopulated:!0},{name:"factories_act_listed",isCqsAutoPopulated:!0},{name:"permissible_concentration",isCqsAutoPopulated:!1},{name:"monitoring_details",isCqsAutoPopulated:!1}]},{title:"Others",fields:[{name:"plant_inputs_required",isCqsAutoPopulated:!1},{name:"gaps_identified",isCqsAutoPopulated:!1},{name:"additional_input_1",isCqsAutoPopulated:!1},{name:"additional_input_2",isCqsAutoPopulated:!1}]}]).forEach(s=>{const l=s.fields||[];e+=l.length,l.forEach(e=>{e.isCqsAutoPopulated||e.disabled?i++:t++})}),{totalFields:e,totalUserEditableFields:t,totalCqsFields:i}},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const{totalUserEditableFields:i,completedUserEditableFields:l,completionPercentage:o}=s(t);return{...e,totalFields:i,completedFields:l,completionPercentage:o}}const{totalUserEditableFields:i}=l(),o=e.completedFields||0,a=i>0?Math.round(o/i*100):0;return{...e,totalFields:i,completionPercentage:a}}}}]);
//# sourceMappingURL=174.0c28e991.chunk.js.map