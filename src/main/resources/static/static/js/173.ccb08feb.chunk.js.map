{"version":3,"file":"static/js/173.ccb08feb.chunk.js","mappings":"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","sources":["components/MaterialContextDisplay.js","components/QueryDocumentList.js","components/QueryInbox.js","components/QueryHistoryTracker.js"],"sourcesContent":["import {\n  InfoCircleOutlined,\n  FileTextOutlined,\n  SafetyCertificateOutlined,\n  ExperimentOutlined\n} from '@ant-design/icons';\nimport { Card, Descriptions, Tag, Spin, Alert, Collapse, Typography, Space, Button } from 'antd';\nimport React, { useState, useEffect, useCallback } from 'react';\n\nimport apiClient from '../api/client';\n\nconst { Panel } = Collapse;\nconst { Text } = Typography;\n\nconst MaterialContextDisplay = ({ materialCode, workflowId, compact = false }) => {\n  const [loading, setLoading] = useState(false);\n  const [materialData, setMaterialData] = useState(null);\n  const [workflowData, setWorkflowData] = useState(null);\n  const [error, setError] = useState(null);\n\n  const loadMaterialContext = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const promises = [];\n\n      if (workflowId) {\n        promises.push(\n          apiClient.get(`/workflows/${workflowId}`).then(data => setWorkflowData(data))\n        );\n      }\n\n      if (materialCode) {\n        // In a real implementation, this would fetch material details from a materials API\n        promises.push(\n          Promise.resolve({\n            id: materialCode,\n            name: `Material ${materialCode}`,\n            description: 'Sample material description',\n            category: 'Chemical',\n            supplier: 'Sample Supplier',\n            hazardClass: 'Class 3',\n            physicalState: 'Liquid',\n            flashPoint: '25°C',\n            autoIgnitionTemp: '300°C',\n            density: '0.85 g/cm³',\n            solubility: 'Soluble in water',\n            ph: '7.2',\n            viscosity: '2.5 cP'\n          }).then(data => setMaterialData(data))\n        );\n      }\n\n      await Promise.all(promises);\n    } catch (error) {\n      console.error('Failed to load material context:', error);\n      setError('Failed to load material information');\n    } finally {\n      setLoading(false);\n    }\n  }, [workflowId, materialCode]);\n\n  useEffect(() => {\n    if (materialCode || workflowId) {\n      loadMaterialContext();\n    }\n  }, [materialCode, workflowId, loadMaterialContext]);\n\n  const getWorkflowStateColor = state => {\n    const colors = {\n      JVC_PENDING: 'blue',\n      PLANT_PENDING: 'orange',\n      CQS_PENDING: 'red',\n      TECH_PENDING: 'purple',\n      COMPLETED: 'green'\n    };\n    return colors[state] || 'default';\n  };\n\n  const getHazardClassColor = hazardClass => {\n    const colors = {\n      'Class 1': 'red',\n      'Class 2': 'orange',\n      'Class 3': 'yellow',\n      'Class 4': 'blue',\n      'Class 5': 'green',\n      'Class 6': 'purple',\n      'Class 7': 'magenta',\n      'Class 8': 'cyan',\n      'Class 9': 'lime'\n    };\n    return colors[hazardClass] || 'default';\n  };\n\n  if (loading) {\n    return (\n      <Card size=\"small\">\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n          <Spin size=\"small\" />\n          <div style={{ marginTop: 8 }}>Loading material context...</div>\n        </div>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert message=\"Context Error\" description={error} type=\"warning\" showIcon size=\"small\" />\n    );\n  }\n\n  if (compact) {\n    return (\n      <Card size=\"small\" title=\"Material Context\" style={{ marginBottom: 16 }}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          {materialData && (\n            <div>\n              <Text strong>Material:</Text> {materialData.name} ({materialData.id})\n              <br />\n              <Text strong>Category:</Text> {materialData.category}\n              <br />\n              <Text strong>Hazard Class:</Text>{' '}\n              <Tag color={getHazardClassColor(materialData.hazardClass)}>\n                {materialData.hazardClass}\n              </Tag>\n            </div>\n          )}\n\n          {workflowData && (\n            <div>\n              <Text strong>Workflow State:</Text>{' '}\n              <Tag color={getWorkflowStateColor(workflowData.state)}>\n                {workflowData.state?.replace('_', ' ')}\n              </Tag>\n              <br />\n              <Text strong>Plant:</Text> {workflowData.assignedPlant}\n            </div>\n          )}\n        </Space>\n      </Card>\n    );\n  }\n\n  return (\n    <Card\n      title={\n        <Space>\n          <InfoCircleOutlined />\n          <span>Material Context</span>\n        </Space>\n      }\n      size=\"small\"\n      style={{ marginBottom: 16 }}\n    >\n      <Collapse size=\"small\" ghost>\n        {materialData && (\n          <Panel\n            header={\n              <Space>\n                <ExperimentOutlined />\n                <span>Material Properties</span>\n              </Space>\n            }\n            key=\"material\"\n          >\n            <Descriptions size=\"small\" column={2} bordered>\n              <Descriptions.Item label=\"Material ID\">{materialData.id}</Descriptions.Item>\n              <Descriptions.Item label=\"Name\">{materialData.name}</Descriptions.Item>\n              <Descriptions.Item label=\"Category\">\n                <Tag color=\"blue\">{materialData.category}</Tag>\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Supplier\">{materialData.supplier}</Descriptions.Item>\n              <Descriptions.Item label=\"Hazard Class\">\n                <Tag color={getHazardClassColor(materialData.hazardClass)}>\n                  {materialData.hazardClass}\n                </Tag>\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Physical State\">\n                {materialData.physicalState}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Flash Point\">\n                <Text type=\"danger\">{materialData.flashPoint}</Text>\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Auto-Ignition Temp\">\n                <Text type=\"danger\">{materialData.autoIgnitionTemp}</Text>\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Density\">{materialData.density}</Descriptions.Item>\n              <Descriptions.Item label=\"Solubility\">{materialData.solubility}</Descriptions.Item>\n              <Descriptions.Item label=\"pH\">{materialData.ph}</Descriptions.Item>\n              <Descriptions.Item label=\"Viscosity\">{materialData.viscosity}</Descriptions.Item>\n            </Descriptions>\n\n            {materialData.description && (\n              <div style={{ marginTop: 12 }}>\n                <Text strong>Description:</Text>\n                <div\n                  style={{\n                    marginTop: 4,\n                    padding: 8,\n                    background: '#f5f5f5',\n                    borderRadius: 4\n                  }}\n                >\n                  {materialData.description}\n                </div>\n              </div>\n            )}\n          </Panel>\n        )}\n\n        {workflowData && (\n          <Panel\n            header={\n              <Space>\n                <FileTextOutlined />\n                <span>Workflow Information</span>\n              </Space>\n            }\n            key=\"workflow\"\n          >\n            <Descriptions size=\"small\" column={2} bordered>\n              <Descriptions.Item label=\"Workflow ID\">{workflowData.id}</Descriptions.Item>\n              <Descriptions.Item label=\"Current State\">\n                <Tag color={getWorkflowStateColor(workflowData.state)}>\n                  {workflowData.state?.replace('_', ' ')}\n                </Tag>\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Assigned Plant\">\n                {workflowData.assignedPlant}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Initiated By\">{workflowData.initiatedBy}</Descriptions.Item>\n              <Descriptions.Item label=\"Created\">\n                {workflowData.createdAt && new Date(workflowData.createdAt).toLocaleString()}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Last Modified\">\n                {workflowData.lastModified && new Date(workflowData.lastModified).toLocaleString()}\n              </Descriptions.Item>\n            </Descriptions>\n          </Panel>\n        )}\n\n        <Panel\n          header={\n            <Space>\n              <SafetyCertificateOutlined />\n              <span>Safety Guidelines</span>\n            </Space>\n          }\n          key=\"safety\"\n        >\n          <Alert\n            message=\"Safety Reminders\"\n            description={\n              <ul style={{ marginBottom: 0, paddingLeft: 20 }}>\n                <li>Always verify material properties before providing guidance</li>\n                <li>Consider plant-specific safety protocols and equipment</li>\n                <li>Reference latest SDS (Safety Data Sheet) when available</li>\n                <li>Escalate to safety team for Class 1-2 hazardous materials</li>\n                <li>Ensure compliance with local and international regulations</li>\n              </ul>\n            }\n            type=\"info\"\n            showIcon\n          />\n        </Panel>\n      </Collapse>\n\n      <div style={{ marginTop: 12, textAlign: 'right' }}>\n        <Button size=\"small\" icon={<InfoCircleOutlined />} onClick={loadMaterialContext}>\n          Refresh Context\n        </Button>\n      </div>\n    </Card>\n  );\n};\n\nexport default MaterialContextDisplay;\n","import {\n  FileTextOutlined,\n  DownloadOutlined,\n  DeleteOutlined,\n  FolderOpenOutlined,\n  QuestionCircleOutlined,\n  MessageOutlined,\n  CalendarOutlined,\n  UserOutlined,\n  FileOutlined\n} from '@ant-design/icons';\nimport {\n  Card,\n  List,\n  Button,\n  Space,\n  Typography,\n  Tag,\n  Divider,\n  Empty,\n  message,\n  Popconfirm,\n  Tooltip,\n  Alert,\n  Spin\n} from 'antd';\nimport React, { useState, useEffect, useCallback } from 'react';\n\nimport { queryAPI } from '../services/queryAPI';\n\n\nconst { Text, Title } = Typography;\n\n/**\n * QueryDocumentList Component\n * \n * Displays all documents associated with a query, including:\n * - Documents attached to the original query\n * - Documents attached to query responses\n * - Grouped display with clear source indicators\n * - Download functionality with proper error handling\n * - Document metadata (size, type, upload date, uploader)\n * \n * @param {Object} props\n * @param {string} props.queryId - Query ID to fetch documents for\n * @param {boolean} props.allowDelete - Whether to show delete buttons (default: false)\n * @param {Function} props.onDocumentDeleted - Callback when document is deleted\n * @param {boolean} props.showBulkActions - Whether to show bulk action buttons (default: true)\n * @param {string} props.currentUser - Current user for permission checks\n */\nconst QueryDocumentList = ({\n  queryId,\n  allowDelete = false,\n  onDocumentDeleted,\n  showBulkActions = true,\n  currentUser\n}) => {\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [downloadingIds, setDownloadingIds] = useState(new Set());\n  const [deletingIds, setDeletingIds] = useState(new Set());\n\n  // Fetch documents on component mount and when queryId changes\n  useEffect(() => {\n    if (queryId) {\n      fetchDocuments();\n    }\n  }, [queryId, fetchDocuments]);\n\n  // Fetch all documents for the query\n  const fetchDocuments = useCallback(async () => {\n    try {\n      setLoading(true);\n      const result = await queryAPI.getQueryDocuments(queryId);\n      setDocuments(result || []);\n    } catch (error) {\n      console.error('Error fetching query documents:', error);\n      message.error('Failed to load documents. Please try again.');\n      setDocuments([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [queryId]);\n\n  // Format file size for display\n  const formatFileSize = (bytes) => {\n    if (!bytes || bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return `${parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`;\n  };\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Unknown';\n    try {\n      return new Date(dateString).toLocaleDateString('en-GB', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      return 'Invalid Date';\n    }\n  };\n\n  // Get file type icon based on file extension\n  const getFileIcon = (fileName) => {\n    if (!fileName) return <FileOutlined />;\n    \n    const extension = fileName.toLowerCase().split('.').pop();\n    const iconStyle = { fontSize: '16px' };\n    \n    switch (extension) {\n      case 'pdf':\n        return <FileTextOutlined style={{ ...iconStyle, color: '#ff4d4f' }} />;\n      case 'doc':\n      case 'docx':\n        return <FileTextOutlined style={{ ...iconStyle, color: '#1890ff' }} />;\n      case 'xls':\n      case 'xlsx':\n        return <FileTextOutlined style={{ ...iconStyle, color: '#52c41a' }} />;\n      case 'jpg':\n      case 'jpeg':\n      case 'png':\n        return <FileOutlined style={{ ...iconStyle, color: '#722ed1' }} />;\n      default:\n        return <FileOutlined style={iconStyle} />;\n    }\n  };\n\n  // Handle document download\n  const handleDownload = async (document) => {\n    try {\n      setDownloadingIds(prev => new Set([...prev, document.id]));\n      \n      const blob = await queryAPI.downloadQueryDocument(queryId, document.id);\n      \n      // Create download link\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = document.originalFileName || document.fileName;\n      document.body.appendChild(link);\n      link.click();\n      \n      // Cleanup\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(link);\n      \n      message.success(`Downloaded ${document.originalFileName || document.fileName}`);\n    } catch (error) {\n      console.error('Error downloading document:', error);\n      message.error('Failed to download document. Please try again.');\n    } finally {\n      setDownloadingIds(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(document.id);\n        return newSet;\n      });\n    }\n  };\n\n  // Handle document deletion\n  const handleDelete = async (document) => {\n    try {\n      setDeletingIds(prev => new Set([...prev, document.id]));\n      \n      await queryAPI.deleteQueryDocument(queryId, document.id);\n      \n      message.success(`Deleted ${document.originalFileName || document.fileName}`);\n      \n      // Remove from local state\n      setDocuments(prev => prev.filter(doc => doc.id !== document.id));\n      \n      // Notify parent component\n      if (onDocumentDeleted) {\n        onDocumentDeleted(document);\n      }\n    } catch (error) {\n      console.error('Error deleting document:', error);\n      message.error('Failed to delete document. Please try again.');\n    } finally {\n      setDeletingIds(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(document.id);\n        return newSet;\n      });\n    }\n  };\n\n  // Handle bulk download\n  const handleBulkDownload = async () => {\n    if (documents.length === 0) {\n      message.warning('No documents to download.');\n      return;\n    }\n\n    message.info(`Starting download of ${documents.length} documents...`);\n    \n    for (const doc of documents) {\n      try {\n        await handleDownload(doc);\n        // Small delay between downloads to avoid overwhelming the server\n        await new Promise(resolve => setTimeout(resolve, 500));\n      } catch (error) {\n        console.error(`Failed to download ${doc.originalFileName}:`, error);\n      }\n    }\n  };\n\n  // Group documents by source (query vs response)\n  const groupedDocuments = documents.reduce((groups, doc) => {\n    const source = doc.responseId ? 'response' : 'query';\n    if (!groups[source]) {\n      groups[source] = [];\n    }\n    groups[source].push(doc);\n    return groups;\n  }, {});\n\n  // Check if user can delete document\n  const canDeleteDocument = (document) => {\n    if (!allowDelete) return false;\n    if (!currentUser) return false;\n    return document.uploadedBy === currentUser || currentUser.role === 'ADMIN';\n  };\n\n  if (loading) {\n    return (\n      <Card>\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n          <Spin size=\"large\" />\n          <div style={{ marginTop: '16px' }}>\n            <Text type=\"secondary\">Loading documents...</Text>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  if (documents.length === 0) {\n    return (\n      <Card>\n        <Empty\n          image={Empty.PRESENTED_IMAGE_SIMPLE}\n          description={\n            <Space direction=\"vertical\">\n              <Text type=\"secondary\">No documents attached to this query</Text>\n              <Text type=\"secondary\" style={{ fontSize: '12px' }}>\n                Documents can be attached when creating queries or responding to them\n              </Text>\n            </Space>\n          }\n        />\n      </Card>\n    );\n  }\n\n  return (\n    <Card\n      title={\n        <Space>\n          <FolderOpenOutlined />\n          <span>Query Documents ({documents.length})</span>\n        </Space>\n      }\n      extra={\n        showBulkActions && documents.length > 0 && (\n          <Space>\n            <Button\n              icon={<DownloadOutlined />}\n              onClick={handleBulkDownload}\n              size=\"small\"\n            >\n              Download All\n            </Button>\n          </Space>\n        )\n      }\n    >\n      <Space direction=\"vertical\" style={{ width: '100%' }}>\n        {/* Summary Alert */}\n        <Alert\n          message={`${documents.length} document(s) attached to this query`}\n          description={\n            <Space>\n              {groupedDocuments.query && (\n                <Text type=\"secondary\">\n                  {groupedDocuments.query.length} from original query\n                </Text>\n              )}\n              {groupedDocuments.response && (\n                <Text type=\"secondary\">\n                  {groupedDocuments.response.length} from responses\n                </Text>\n              )}\n            </Space>\n          }\n          type=\"info\"\n          showIcon\n          size=\"small\"\n        />\n\n        {/* Original Query Documents */}\n        {groupedDocuments.query && groupedDocuments.query.length > 0 && (\n          <>\n            <Title level={5}>\n              <QuestionCircleOutlined style={{ color: '#1890ff' }} />\n              <span style={{ marginLeft: '8px' }}>\n                Original Query Documents ({groupedDocuments.query.length})\n              </span>\n            </Title>\n            \n            <List\n              size=\"small\"\n              dataSource={groupedDocuments.query}\n              renderItem={document => (\n                <List.Item\n                  actions={[\n                    <Tooltip title=\"Download document\" key=\"download\">\n                      <Button\n                        type=\"text\"\n                        icon={<DownloadOutlined />}\n                        onClick={() => handleDownload(document)}\n                        loading={downloadingIds.has(document.id)}\n                        size=\"small\"\n                      />\n                    </Tooltip>,\n                    ...(canDeleteDocument(document) ? [\n                      <Popconfirm\n                        key=\"delete\"\n                        title=\"Delete Document\"\n                        description=\"Are you sure you want to delete this document?\"\n                        onConfirm={() => handleDelete(document)}\n                        okText=\"Yes\"\n                        cancelText=\"No\"\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\n                      >\n                        <Tooltip title=\"Delete document\">\n                          <Button\n                            type=\"text\"\n                            danger\n                            icon={<DeleteOutlined />}\n                            loading={deletingIds.has(document.id)}\n                            size=\"small\"\n                          />\n                        </Tooltip>\n                      </Popconfirm>\n                    ] : [])\n                  ]}\n                >\n                  <List.Item.Meta\n                    avatar={getFileIcon(document.originalFileName)}\n                    title={\n                      <Space>\n                        <Text strong>{document.originalFileName || document.fileName}</Text>\n                        <Tag color=\"blue\" size=\"small\">Query</Tag>\n                      </Space>\n                    }\n                    description={\n                      <Space direction=\"vertical\" size=\"small\">\n                        <Space size=\"large\">\n                          <Text type=\"secondary\">\n                            <FileOutlined style={{ marginRight: '4px' }} />\n                            {formatFileSize(document.fileSize)}\n                          </Text>\n                          <Text type=\"secondary\">\n                            <CalendarOutlined style={{ marginRight: '4px' }} />\n                            {formatDate(document.uploadedAt)}\n                          </Text>\n                          <Text type=\"secondary\">\n                            <UserOutlined style={{ marginRight: '4px' }} />\n                            {document.uploadedBy || 'Unknown'}\n                          </Text>\n                        </Space>\n                      </Space>\n                    }\n                  />\n                </List.Item>\n              )}\n            />\n          </>\n        )}\n\n        {/* Response Documents */}\n        {groupedDocuments.response && groupedDocuments.response.length > 0 && (\n          <>\n            {groupedDocuments.query && <Divider />}\n            \n            <Title level={5}>\n              <MessageOutlined style={{ color: '#52c41a' }} />\n              <span style={{ marginLeft: '8px' }}>\n                Response Documents ({groupedDocuments.response.length})\n              </span>\n            </Title>\n            \n            <List\n              size=\"small\"\n              dataSource={groupedDocuments.response}\n              renderItem={document => (\n                <List.Item\n                  actions={[\n                    <Tooltip title=\"Download document\" key=\"download\">\n                      <Button\n                        type=\"text\"\n                        icon={<DownloadOutlined />}\n                        onClick={() => handleDownload(document)}\n                        loading={downloadingIds.has(document.id)}\n                        size=\"small\"\n                      />\n                    </Tooltip>,\n                    ...(canDeleteDocument(document) ? [\n                      <Popconfirm\n                        key=\"delete\"\n                        title=\"Delete Document\"\n                        description=\"Are you sure you want to delete this document?\"\n                        onConfirm={() => handleDelete(document)}\n                        okText=\"Yes\"\n                        cancelText=\"No\"\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\n                      >\n                        <Tooltip title=\"Delete document\">\n                          <Button\n                            type=\"text\"\n                            danger\n                            icon={<DeleteOutlined />}\n                            loading={deletingIds.has(document.id)}\n                            size=\"small\"\n                          />\n                        </Tooltip>\n                      </Popconfirm>\n                    ] : [])\n                  ]}\n                >\n                  <List.Item.Meta\n                    avatar={getFileIcon(document.originalFileName)}\n                    title={\n                      <Space>\n                        <Text strong>{document.originalFileName || document.fileName}</Text>\n                        <Tag color=\"green\" size=\"small\">Response</Tag>\n                        {document.responseId && (\n                          <Tag color=\"orange\" size=\"small\">#{document.responseId}</Tag>\n                        )}\n                      </Space>\n                    }\n                    description={\n                      <Space direction=\"vertical\" size=\"small\">\n                        <Space size=\"large\">\n                          <Text type=\"secondary\">\n                            <FileOutlined style={{ marginRight: '4px' }} />\n                            {formatFileSize(document.fileSize)}\n                          </Text>\n                          <Text type=\"secondary\">\n                            <CalendarOutlined style={{ marginRight: '4px' }} />\n                            {formatDate(document.uploadedAt)}\n                          </Text>\n                          <Text type=\"secondary\">\n                            <UserOutlined style={{ marginRight: '4px' }} />\n                            {document.uploadedBy || 'Unknown'}\n                          </Text>\n                        </Space>\n                      </Space>\n                    }\n                  />\n                </List.Item>\n              )}\n            />\n          </>\n        )}\n      </Space>\n    </Card>\n  );\n};\n\nexport default QueryDocumentList;","import {\r\n  MessageOutlined,\r\n  ClockCircleOutlined,\r\n  ExclamationCircleOutlined,\r\n  CheckCircleOutlined,\r\n  FilterOutlined,\r\n  ReloadOutlined,\r\n  EyeOutlined,\r\n  PaperClipOutlined\r\n} from '@ant-design/icons';\r\nimport {\r\n  Card,\r\n  Table,\r\n  Tag,\r\n  Button,\r\n  Space,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Alert,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Progress,\r\n  Typography,\r\n  Divider,\r\n  message\r\n} from 'antd';\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport apiClient from '../api/client';\r\nimport { PAGINATION, QUERY_STATUS, TEAM_NAMES, PRIORITY_LEVELS } from '../constants';\r\n\r\nimport { AsyncErrorBoundary, ComponentErrorBoundary } from './ErrorBoundaries';\r\nimport MaterialContextDisplay from './MaterialContextDisplay';\r\nimport QueryDocumentList from './QueryDocumentList';\r\nimport QueryDocumentUpload from './QueryDocumentUpload';\r\nimport QueryHistoryTracker from './QueryHistoryTracker';\r\n\r\nconst { TextArea } = Input;\r\nconst { Option } = Select;\r\nconst { Text, Title } = Typography;\r\n\r\nconst QueryInbox = ({ team }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [queries, setQueries] = useState([]);\r\n  const [filteredQueries, setFilteredQueries] = useState([]);\r\n  const [selectedQuery, setSelectedQuery] = useState(null);\r\n  const [queryModalVisible, setQueryModalVisible] = useState(false);\r\n  const [resolveForm] = Form.useForm();\r\n  const [responseDocuments, setResponseDocuments] = useState([]);\r\n  const [responseId, setResponseId] = useState(null);\r\n  const [queryDocuments, setQueryDocuments] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    status: 'all',\r\n    priority: 'all',\r\n    material: '',\r\n    daysOpen: 'all',\r\n    project: '',\r\n    plant: '',\r\n    assignedTeam: 'all',\r\n    hasAttachments: 'all'\r\n  });\r\n  const [stats, setStats] = useState({\r\n    total: 0,\r\n    open: 0,\r\n    resolved: 0,\r\n    resolvedToday: 0,\r\n    overdue: 0,\r\n    avgResolutionTime: 0\r\n  });\r\n\r\n  // Define functions before useEffect hooks that depend on them\r\n  const loadQueries = useCallback(async signal => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await apiClient.get(`/queries/inbox/${team}`, { signal });\r\n      if (!signal?.aborted) {\r\n        setQueries(data);\r\n      }\r\n    } catch (error) {\r\n      if (!signal?.aborted) {\r\n        console.error('Failed to load queries:', error);\r\n        message.error('Failed to load queries');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [team]);\r\n\r\n  const loadStats = useCallback(async signal => {\r\n    try {\r\n      const [openCount, resolvedCount, resolvedTodayCount, overdueCount, avgTime] =\r\n        await Promise.all([\r\n          apiClient.get(`/queries/stats/count-open/${team}`, { signal }).catch(() => 0),\r\n          apiClient.get(`/queries/stats/count-resolved/${team}`, { signal }).catch(() => 0),\r\n          apiClient.get(`/queries/stats/resolved-today/${team}`, { signal }).catch(() => 0),\r\n          apiClient.get(`/queries/stats/overdue-count/${team}`, { signal }).catch(() => 0),\r\n          apiClient.get(`/queries/stats/avg-resolution-time/${team}`, { signal }).catch(() => 0)\r\n        ]);\r\n\r\n      if (!signal?.aborted) {\r\n        setStats({\r\n          total: openCount + resolvedCount,\r\n          open: openCount,\r\n          resolved: resolvedCount,\r\n          resolvedToday: resolvedTodayCount,\r\n          overdue: overdueCount,\r\n          avgResolutionTime: avgTime\r\n        });\r\n      }\r\n    } catch (error) {\r\n      if (!signal?.aborted) {\r\n        console.error('Failed to load stats:', error);\r\n      }\r\n    }\r\n  }, [team]);\r\n\r\n  const applyFilters = useCallback(() => {\r\n    let filtered = [...queries];\r\n\r\n    if (filters.status !== 'all') {\r\n      filtered = filtered.filter(q => q.status === filters.status);\r\n    }\r\n\r\n    if (filters.priority !== 'all') {\r\n      filtered = filtered.filter(q => q.priorityLevel === filters.priority);\r\n    }\r\n\r\n    if (filters.material) {\r\n      filtered = filtered.filter(\r\n        q =>\r\n          q.materialCode?.toLowerCase().includes(filters.material.toLowerCase()) ||\r\n          q.materialName?.toLowerCase().includes(filters.material.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (filters.project) {\r\n      filtered = filtered.filter(q =>\r\n        q.projectCode?.toLowerCase().includes(filters.project.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (filters.plant) {\r\n      filtered = filtered.filter(\r\n        q =>\r\n          q.plantCode?.toLowerCase().includes(filters.plant.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (filters.assignedTeam !== 'all') {\r\n      filtered = filtered.filter(q => q.assignedTeam === filters.assignedTeam);\r\n    }\r\n\r\n    if (filters.daysOpen !== 'all') {\r\n      const threshold = parseInt(filters.daysOpen);\r\n      filtered = filtered.filter(q => q.daysOpen >= threshold);\r\n    }\r\n\r\n    if (filters.hasAttachments !== 'all') {\r\n      if (filters.hasAttachments === 'with') {\r\n        filtered = filtered.filter(q => (q.documentCount || 0) > 0);\r\n      } else if (filters.hasAttachments === 'without') {\r\n        filtered = filtered.filter(q => (q.documentCount || 0) === 0);\r\n      }\r\n    }\r\n\r\n    setFilteredQueries(filtered);\r\n  }, [queries, filters]);\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        await Promise.all([loadQueries(controller.signal), loadStats(controller.signal)]);\r\n      } catch (error) {\r\n        if (!controller.signal.aborted) {\r\n          console.error('Error loading query inbox data:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      controller.abort();\r\n    };\r\n  }, [team, loadQueries, loadStats]);\r\n\r\n  useEffect(() => {\r\n    applyFilters();\r\n  }, [queries, filters, applyFilters]);\r\n\r\n  const handleResolveQuery = async values => {\r\n    try {\r\n      const resolveData = {\r\n        response: values.response,\r\n        priorityLevel: values.priorityLevel\r\n      };\r\n\r\n      const resolvedQuery = await apiClient.put(`/queries/${selectedQuery.id}/resolve`, resolveData);\r\n\r\n      // Set response ID for document uploads\r\n      if (resolvedQuery.responseId) {\r\n        setResponseId(resolvedQuery.responseId);\r\n      }\r\n\r\n      const documentMessage = responseDocuments.length > 0\r\n        ? ` with ${responseDocuments.length} document(s) attached`\r\n        : '';\r\n      message.success(`Query resolved successfully${documentMessage}`);\r\n\r\n      setQueryModalVisible(false);\r\n      resolveForm.resetFields();\r\n      setSelectedQuery(null);\r\n      setResponseDocuments([]);\r\n      setResponseId(null);\r\n      setQueryDocuments([]);\r\n      loadQueries();\r\n      loadStats();\r\n    } catch (error) {\r\n      console.error('Failed to resolve query:', error);\r\n      message.error('Failed to resolve query');\r\n    }\r\n  };\r\n\r\n  // Load query documents when a query is selected\r\n  const loadQueryDocuments = useCallback(async (queryId) => {\r\n    try {\r\n      const documents = await apiClient.get(`/queries/${queryId}/documents`);\r\n      setQueryDocuments(documents);\r\n    } catch (error) {\r\n      console.error('Failed to load query documents:', error);\r\n      setQueryDocuments([]);\r\n    }\r\n  }, []);\r\n\r\n  // Handle response document upload\r\n  const handleResponseDocumentUpload = (documents) => {\r\n    setResponseDocuments(prev => [...prev, ...documents]);\r\n    message.success(`${documents.length} document(s) uploaded to response`);\r\n  };\r\n\r\n  const getStatusColor = status => {\r\n    return status === QUERY_STATUS.OPEN ? 'red' : 'green';\r\n  };\r\n\r\n  const getPriorityColor = priority => {\r\n    const colors = {\r\n      LOW: 'blue',\r\n      MEDIUM: 'orange',\r\n      HIGH: 'red',\r\n      URGENT: 'purple'\r\n    };\r\n    return colors[priority] || 'default';\r\n  };\r\n\r\n  const getDaysOpenColor = days => {\r\n    if (days >= 3) {\r\n      return '#ff4d4f';\r\n    }\r\n    if (days >= 2) {\r\n      return '#faad14';\r\n    }\r\n    return '#52c41a';\r\n  };\r\n\r\n  const getSLAProgress = daysOpen => {\r\n    const slaThreshold = 3; // 3 days SLA\r\n    const progress = Math.min((daysOpen / slaThreshold) * 100, 100);\r\n    let status = 'normal';\r\n    if (progress >= 100) {\r\n      status = 'exception';\r\n    } else if (progress >= 80) {\r\n      status = 'active';\r\n    }\r\n\r\n    return { progress, status };\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Material Context',\r\n      dataIndex: 'materialCode',\r\n      key: 'materialContext',\r\n      width: 180,\r\n      render: (text, record) => (\r\n        <div>\r\n          <Text strong>{text}</Text>\r\n          {record.materialName && (\r\n            <div style={{ fontSize: '12px', color: '#666' }}>{record.materialName}</div>\r\n          )}\r\n          {record.projectCode && (\r\n            <div style={{ fontSize: '11px', color: '#999' }}>Project: {record.projectCode}</div>\r\n          )}\r\n          {record.plantCode && (\r\n            <div style={{ fontSize: '11px', color: '#999' }}>\r\n              Plant: {record.plantCode}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Query',\r\n      dataIndex: 'question',\r\n      key: 'question',\r\n      width: 300,\r\n      ellipsis: true,\r\n      render: (text) => (\r\n        <div>\r\n          <Text style={{ color: '#1890ff' }}>\r\n            {text || 'No query text available'}\r\n          </Text>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Attachments',\r\n      key: 'attachments',\r\n      width: 100,\r\n      render: (_, record) => {\r\n        const documentCount = (record.documentCount || 0);\r\n        return documentCount > 0 ? (\r\n          <Space>\r\n            <PaperClipOutlined style={{ color: '#1890ff' }} />\r\n            <Text type=\"secondary\">{documentCount}</Text>\r\n          </Space>\r\n        ) : (\r\n          <Text type=\"secondary\">-</Text>\r\n        );\r\n      }\r\n    },\r\n    {\r\n      title: 'Field',\r\n      dataIndex: 'fieldName',\r\n      key: 'fieldName',\r\n      width: 120,\r\n      render: (text) => (\r\n        text ? <Tag color=\"blue\">{text}</Tag> : <Text type=\"secondary\">-</Text>\r\n      )\r\n    },\r\n    {\r\n      title: 'Priority',\r\n      dataIndex: 'priorityLevel',\r\n      key: 'priorityLevel',\r\n      width: 80,\r\n      render: priority => (\r\n        <Tag color={getPriorityColor(priority)}>{priority || PRIORITY_LEVELS.MEDIUM}</Tag>\r\n      )\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      width: 80,\r\n      render: status => <Tag color={getStatusColor(status)}>{status}</Tag>\r\n    },\r\n    {\r\n      title: 'Days Open',\r\n      dataIndex: 'daysOpen',\r\n      key: 'daysOpen',\r\n      width: 100,\r\n      render: (days, _record) => {\r\n        const { progress, status } = getSLAProgress(days);\r\n        return (\r\n          <div>\r\n            <Text style={{ color: getDaysOpenColor(days) }}>{days} days</Text>\r\n            <Progress\r\n              percent={progress}\r\n              status={status}\r\n              size=\"small\"\r\n              showInfo={false}\r\n              style={{ marginTop: 4 }}\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    },\r\n    {\r\n      title: 'Raised By',\r\n      dataIndex: 'raisedBy',\r\n      key: 'raisedBy',\r\n      width: 100\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      width: 120,\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button\r\n            size=\"small\"\r\n            icon={<EyeOutlined />}\r\n            onClick={() => {\r\n              setSelectedQuery(record);\r\n              setQueryModalVisible(true);\r\n              loadQueryDocuments(record.id);\r\n            }}\r\n          >\r\n            View\r\n          </Button>\r\n        </Space>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <ComponentErrorBoundary componentName=\"QueryInbox\">\r\n      <div>\r\n        {/* Team-Specific Statistics */}\r\n        <Alert\r\n          message={`${team} Team Statistics`}\r\n          description=\"All statistics below are specific to your team and update in real-time.\"\r\n          type=\"info\"\r\n          showIcon\r\n          style={{ marginBottom: 16 }}\r\n        />\r\n\r\n        {/* Statistics Cards - Team Specific */}\r\n        <AsyncErrorBoundary operation=\"query statistics loading\" onRetry={loadStats} maxRetries={3}>\r\n          <Row gutter={16} style={{ marginBottom: 16 }}>\r\n            <Col span={5}>\r\n              <Card>\r\n                <Statistic title=\"Total Queries\" value={stats.total} prefix={<MessageOutlined />} />\r\n              </Card>\r\n            </Col>\r\n            <Col span={5}>\r\n              <Card>\r\n                <Statistic\r\n                  title=\"Open Queries\"\r\n                  value={stats.open}\r\n                  valueStyle={{ color: '#cf1322' }}\r\n                  prefix={<ClockCircleOutlined />}\r\n                />\r\n              </Card>\r\n            </Col>\r\n            <Col span={5}>\r\n              <Card>\r\n                <Statistic\r\n                  title=\"Resolved Today\"\r\n                  value={stats.resolvedToday}\r\n                  valueStyle={{ color: '#3f8600' }}\r\n                  prefix={<CheckCircleOutlined />}\r\n                />\r\n              </Card>\r\n            </Col>\r\n            <Col span={5}>\r\n              <Card>\r\n                <Statistic\r\n                  title=\"Overdue\"\r\n                  value={stats.overdue}\r\n                  valueStyle={{ color: stats.overdue > 0 ? '#cf1322' : '#3f8600' }}\r\n                  prefix={<ExclamationCircleOutlined />}\r\n                />\r\n              </Card>\r\n            </Col>\r\n            <Col span={4}>\r\n              <Card>\r\n                <Statistic\r\n                  title=\"Avg Resolution Time\"\r\n                  value={stats.avgResolutionTime}\r\n                  suffix=\"hrs\"\r\n                  precision={1}\r\n                  prefix={<CheckCircleOutlined />}\r\n                />\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </AsyncErrorBoundary>\r\n\r\n        {/* Enhanced Filters */}\r\n        <Card size=\"small\" style={{ marginBottom: 16 }}>\r\n          <Row gutter={[16, 8]} align=\"middle\">\r\n            <Col span={4}>\r\n              <Select\r\n                placeholder=\"Status\"\r\n                value={filters.status}\r\n                onChange={value => setFilters({ ...filters, status: value })}\r\n                style={{ width: '100%' }}\r\n              >\r\n                <Option value=\"all\">All Status</Option>\r\n                <Option value=\"OPEN\">Open</Option>\r\n                <Option value=\"RESOLVED\">Resolved</Option>\r\n              </Select>\r\n            </Col>\r\n            <Col span={4}>\r\n              <Select\r\n                placeholder=\"Priority\"\r\n                value={filters.priority}\r\n                onChange={value => setFilters({ ...filters, priority: value })}\r\n                style={{ width: '100%' }}\r\n              >\r\n                <Option value=\"all\">All Priority</Option>\r\n                <Option value=\"LOW\">Low</Option>\r\n                <Option value=\"MEDIUM\">Medium</Option>\r\n                <Option value=\"HIGH\">High</Option>\r\n                <Option value=\"URGENT\">Urgent</Option>\r\n              </Select>\r\n            </Col>\r\n            <Col span={4}>\r\n              <Input\r\n                placeholder=\"Material ID/Name\"\r\n                value={filters.material}\r\n                onChange={e => setFilters({ ...filters, material: e.target.value })}\r\n              />\r\n            </Col>\r\n            <Col span={4}>\r\n              <Input\r\n                placeholder=\"Project Code\"\r\n                value={filters.project}\r\n                onChange={e => setFilters({ ...filters, project: e.target.value })}\r\n              />\r\n            </Col>\r\n            <Col span={4}>\r\n              <Input\r\n                placeholder=\"Plant\"\r\n                value={filters.plant}\r\n                onChange={e => setFilters({ ...filters, plant: e.target.value })}\r\n              />\r\n            </Col>\r\n            <Col span={4}>\r\n              <Select\r\n                placeholder=\"Team\"\r\n                value={filters.assignedTeam}\r\n                onChange={value => setFilters({ ...filters, assignedTeam: value })}\r\n                style={{ width: '100%' }}\r\n              >\r\n                <Option value=\"all\">All Teams</Option>\r\n                <Option value=\"CQS\">CQS</Option>\r\n                <Option value=\"TECH\">Tech</Option>\r\n                <Option value=\"JVC\">JVC</Option>\r\n              </Select>\r\n            </Col>\r\n            <Col span={4}>\r\n              <Select\r\n                placeholder=\"Attachments\"\r\n                value={filters.hasAttachments}\r\n                onChange={value => setFilters({ ...filters, hasAttachments: value })}\r\n                style={{ width: '100%' }}\r\n              >\r\n                <Option value=\"all\">All Queries</Option>\r\n                <Option value=\"with\">With Attachments</Option>\r\n                <Option value=\"without\">Without Attachments</Option>\r\n              </Select>\r\n            </Col>\r\n            <Col span={4}>\r\n              <Select\r\n                placeholder=\"Days Open\"\r\n                value={filters.daysOpen}\r\n                onChange={value => setFilters({ ...filters, daysOpen: value })}\r\n                style={{ width: '100%' }}\r\n              >\r\n                <Option value=\"all\">All</Option>\r\n                <Option value=\"1\">1+ days</Option>\r\n                <Option value=\"2\">2+ days</Option>\r\n                <Option value=\"3\">3+ days (Overdue)</Option>\r\n              </Select>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Space>\r\n                <Button\r\n                  icon={<ReloadOutlined />}\r\n                  onClick={() => {\r\n                    loadQueries();\r\n                    loadStats();\r\n                  }}\r\n                >\r\n                  Refresh\r\n                </Button>\r\n                <Button\r\n                  icon={<FilterOutlined />}\r\n                  onClick={() =>\r\n                    setFilters({\r\n                      status: 'all',\r\n                      priority: 'all',\r\n                      material: '',\r\n                      daysOpen: 'all',\r\n                      project: '',\r\n                      plant: '',\r\n                      assignedTeam: 'all',\r\n                      hasAttachments: 'all'\r\n                    })\r\n                  }\r\n                >\r\n                  Clear Filters\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n\r\n        {/* Query Table */}\r\n        <AsyncErrorBoundary operation=\"query data loading\" onRetry={loadQueries} maxRetries={3}>\r\n          <Card\r\n            title={\r\n              <div>\r\n                <Title level={4} style={{ margin: 0 }}>\r\n                  {team} Team Query Inbox\r\n                </Title>\r\n                <Text type=\"secondary\">\r\n                  {filteredQueries.length} of {queries.length} queries\r\n                </Text>\r\n              </div>\r\n            }\r\n          >\r\n            {stats.overdue > 0 && (\r\n              <Alert\r\n                message={`${stats.overdue} queries are overdue (>3 days)`}\r\n                type=\"warning\"\r\n                showIcon\r\n                style={{ marginBottom: 16 }}\r\n              />\r\n            )}\r\n\r\n            <Table\r\n              dataSource={filteredQueries}\r\n              columns={columns}\r\n              loading={loading}\r\n              pagination={{\r\n                pageSize: PAGINATION.DEFAULT_PAGE_SIZE,\r\n                showSizeChanger: true,\r\n                showQuickJumper: true,\r\n                showTotal: (total, range) => `${range[0]}-${range[1]} of ${total} queries`\r\n              }}\r\n              rowKey=\"id\"\r\n              size=\"small\"\r\n              rowClassName={record => (record.daysOpen >= 3 ? 'overdue-row' : '')}\r\n            />\r\n          </Card>\r\n        </AsyncErrorBoundary>\r\n        {/* Unified Query Modal - Single View */}\r\n        <Modal\r\n          title={`Query #${selectedQuery?.id} - Details`}\r\n          open={queryModalVisible}\r\n          onCancel={() => {\r\n            setQueryModalVisible(false);\r\n            setSelectedQuery(null);\r\n            setQueryDocuments([]);\r\n            resolveForm.resetFields();\r\n            setResponseDocuments([]);\r\n            setResponseId(null);\r\n          }}\r\n          footer={[\r\n            <Button\r\n              key=\"close\"\r\n              onClick={() => {\r\n                setQueryModalVisible(false);\r\n                setSelectedQuery(null);\r\n                setQueryDocuments([]);\r\n                resolveForm.resetFields();\r\n                setResponseDocuments([]);\r\n                setResponseId(null);\r\n              }}\r\n            >\r\n              Close\r\n            </Button>,\r\n            selectedQuery?.status === QUERY_STATUS.OPEN && (\r\n              <Button\r\n                key=\"resolve\"\r\n                type=\"primary\"\r\n                onClick={() => resolveForm.submit()}\r\n                size=\"large\"\r\n              >\r\n                Resolve Query\r\n              </Button>\r\n            )\r\n          ]}\r\n          width={1400}\r\n        >\r\n          {selectedQuery && (\r\n            <Row gutter={16}>\r\n              <Col span={16}>\r\n                {/* Query Details Section */}\r\n                <div style={{ marginBottom: 24 }}>\r\n                  <Row gutter={16}>\r\n                    <Col span={12}>\r\n                      <Text strong>Material Code:</Text> {selectedQuery.materialCode}\r\n                      {selectedQuery.materialName && (\r\n                        <div style={{ fontSize: '12px', color: '#666' }}>\r\n                          {selectedQuery.materialName}\r\n                        </div>\r\n                      )}\r\n                    </Col>\r\n                    <Col span={12}>\r\n                      <Text strong>Status:</Text>{' '}\r\n                      <Tag color={getStatusColor(selectedQuery.status)}>{selectedQuery.status}</Tag>\r\n                    </Col>\r\n                  </Row>\r\n                  <Divider />\r\n\r\n                  <Row gutter={16}>\r\n                    <Col span={8}>\r\n                      <Text strong>Priority:</Text>{' '}\r\n                      <Tag color={getPriorityColor(selectedQuery.priorityLevel)}>\r\n                        {selectedQuery.priorityLevel || PRIORITY_LEVELS.MEDIUM}\r\n                      </Tag>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                      <Text strong>Team:</Text>{' '}\r\n                      <Tag\r\n                        color={\r\n                          selectedQuery.assignedTeam === TEAM_NAMES.CQS\r\n                            ? 'blue'\r\n                            : selectedQuery.assignedTeam === TEAM_NAMES.TECH\r\n                              ? 'purple'\r\n                              : 'orange'\r\n                        }\r\n                      >\r\n                        {selectedQuery.assignedTeam}\r\n                      </Tag>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                      <Text strong>Days Open:</Text>{' '}\r\n                      <Text style={{ color: getDaysOpenColor(selectedQuery.daysOpen) }}>\r\n                        {selectedQuery.daysOpen} days\r\n                      </Text>\r\n                    </Col>\r\n                  </Row>\r\n                  <Divider />\r\n\r\n                  {/* Enhanced Context Information */}\r\n                  {(selectedQuery.projectCode || selectedQuery.plantCode) && (\r\n                    <>\r\n                      <Row gutter={16}>\r\n                        {selectedQuery.projectCode && (\r\n                          <Col span={8}>\r\n                            <Text strong>Project:</Text> {selectedQuery.projectCode}\r\n                          </Col>\r\n                        )}\r\n                        {selectedQuery.plantCode && (\r\n                          <Col span={8}>\r\n                            <Text strong>Plant:</Text> {selectedQuery.plantCode}\r\n                          </Col>\r\n                        )}\r\n                      </Row>\r\n                      <Divider />\r\n                    </>\r\n                  )}\r\n\r\n                  {/* Field Context Section */}\r\n                  {selectedQuery.fieldName && (\r\n                    <div style={{ marginBottom: 16 }}>\r\n                      <Text strong style={{ fontSize: '16px', color: '#1890ff' }}>\r\n                        Field Context\r\n                      </Text>\r\n                      <div style={{\r\n                        marginTop: 8,\r\n                        padding: 12,\r\n                        background: '#e6f7ff',\r\n                        borderRadius: 6,\r\n                        border: '1px solid #91d5ff'\r\n                      }}>\r\n                        <div style={{ fontSize: '14px', fontWeight: 'bold' }}>\r\n                          {selectedQuery.fieldName}\r\n                        </div>\r\n                        {selectedQuery.stepNumber && (\r\n                          <div style={{ fontSize: '12px', color: '#666', marginTop: 4 }}>\r\n                            Step {selectedQuery.stepNumber}\r\n                            {selectedQuery.stepTitle && `: ${selectedQuery.stepTitle}`}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Original Question Section */}\r\n                  {selectedQuery.originalQuestion && (\r\n                    <div style={{ marginBottom: 16 }}>\r\n                      <Text strong style={{ fontSize: '16px', color: '#52c41a' }}>\r\n                        Original Questionnaire Question\r\n                      </Text>\r\n                      <div style={{\r\n                        marginTop: 8,\r\n                        padding: 12,\r\n                        background: '#f6ffed',\r\n                        borderRadius: 6,\r\n                        border: '1px solid #b7eb8f',\r\n                        fontStyle: 'italic'\r\n                      }}>\r\n                        {selectedQuery.originalQuestion}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Query Category Section */}\r\n                  {selectedQuery.queryCategory && (\r\n                    <div style={{ marginBottom: 16 }}>\r\n                      <Text strong style={{ fontSize: '16px', color: '#722ed1' }}>\r\n                        Query Category\r\n                      </Text>\r\n                      <div style={{\r\n                        marginTop: 8,\r\n                        padding: 8,\r\n                        background: '#f9f0ff',\r\n                        borderRadius: 6,\r\n                        border: '1px solid #d3adf7'\r\n                      }}>\r\n                        <Tag color=\"purple\">{selectedQuery.queryCategory}</Tag>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Raised Query Text Section */}\r\n                  <div style={{ marginBottom: 16 }}>\r\n                    <Text strong style={{ fontSize: '16px', color: '#fa8c16' }}>\r\n                      Query Text (What was asked)\r\n                    </Text>\r\n                    <div style={{\r\n                      marginTop: 8,\r\n                      padding: 12,\r\n                      background: '#fff7e6',\r\n                      borderRadius: 6,\r\n                      border: '1px solid #ffd591',\r\n                      whiteSpace: 'pre-wrap',\r\n                      minHeight: '60px'\r\n                    }}>\r\n                      {selectedQuery.question || 'No query text available'}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {selectedQuery.response && (\r\n                    <>\r\n                      <Divider />\r\n                      <Text strong>Response:</Text>\r\n                      <div\r\n                        style={{\r\n                          marginTop: 8,\r\n                          padding: 12,\r\n                          background: '#f0f9ff',\r\n                          borderRadius: 4,\r\n                          whiteSpace: 'pre-wrap'\r\n                        }}\r\n                      >\r\n                        {selectedQuery.response}\r\n                      </div>\r\n                      <div style={{ marginTop: 8, fontSize: '12px', color: '#666' }}>\r\n                        Resolved by: {selectedQuery.resolvedBy} on{' '}\r\n                        {selectedQuery.resolvedAt &&\r\n                          new Date(selectedQuery.resolvedAt).toLocaleString()}\r\n                      </div>\r\n                    </>\r\n                  )}\r\n\r\n                  <Divider />\r\n                  <div style={{ fontSize: '12px', color: '#666' }}>\r\n                    <div>Raised by: {selectedQuery.raisedBy}</div>\r\n                    <div>\r\n                      Created:{' '}\r\n                      {selectedQuery.createdAt &&\r\n                        new Date(selectedQuery.createdAt).toLocaleString()}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Documents Section */}\r\n                {queryDocuments.length > 0 && (\r\n                  <div style={{ marginBottom: 24 }}>\r\n                    <Text strong style={{ fontSize: '16px', color: '#1890ff' }}>\r\n                      <Space>\r\n                        <PaperClipOutlined />\r\n                        Attached Documents ({queryDocuments.length})\r\n                      </Space>\r\n                    </Text>\r\n                    <div style={{ marginTop: 8 }}>\r\n                      <QueryDocumentList\r\n                        documents={queryDocuments}\r\n                        showActions={true}\r\n                        compact={false}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Resolution Form - Only for Open Queries */}\r\n                {selectedQuery?.status === QUERY_STATUS.OPEN && (\r\n                  <div>\r\n                    <Divider />\r\n                    <Text strong style={{ fontSize: '18px', color: '#52c41a' }}>\r\n                      <Space>\r\n                        <CheckCircleOutlined />\r\n                        Resolve Query\r\n                      </Space>\r\n                    </Text>\r\n\r\n                    <Form form={resolveForm} layout=\"vertical\" onFinish={handleResolveQuery} style={{ marginTop: 16 }}>\r\n                      <Form.Item\r\n                        name=\"response\"\r\n                        label={\r\n                          <Space>\r\n                            <span>Resolution Response</span>\r\n                            <Text type=\"secondary\">(Required)</Text>\r\n                          </Space>\r\n                        }\r\n                        rules={[{ required: true, message: 'Please provide a resolution response' }]}\r\n                      >\r\n                        <TextArea\r\n                          rows={6}\r\n                          placeholder=\"Provide detailed resolution or answer to the query. Include any relevant technical details, safety considerations, or references to documentation...\"\r\n                          showCount\r\n                          maxLength={2000}\r\n                          style={{\r\n                            direction: 'ltr',\r\n                            textAlign: 'left',\r\n                            fontFamily: 'inherit'\r\n                          }}\r\n                        />\r\n                      </Form.Item>\r\n\r\n                      {/* Document Upload for Response */}\r\n                      <Form.Item label={\r\n                        <Space>\r\n                          <PaperClipOutlined />\r\n                          <span>Attach Documents to Response</span>\r\n                          <Text type=\"secondary\">(Optional)</Text>\r\n                        </Space>\r\n                      }>\r\n                        <QueryDocumentUpload\r\n                          queryId={selectedQuery?.id}\r\n                          responseId={responseId}\r\n                          context=\"response\"\r\n                          onUploadComplete={handleResponseDocumentUpload}\r\n                          maxFiles={5}\r\n                          disabled={false}\r\n                        />\r\n                      </Form.Item>\r\n\r\n                      <Row gutter={16}>\r\n                        <Col span={12}>\r\n                          <Form.Item\r\n                            name=\"priorityLevel\"\r\n                            label=\"Update Priority (Optional)\"\r\n                            initialValue={selectedQuery.priorityLevel || 'MEDIUM'}\r\n                          >\r\n                            <Select size=\"large\">\r\n                              <Option value=\"LOW\">Low Priority</Option>\r\n                              <Option value=\"MEDIUM\">Medium Priority</Option>\r\n                              <Option value=\"HIGH\">High Priority</Option>\r\n                              <Option value=\"URGENT\">Urgent Priority</Option>\r\n                            </Select>\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                          <div style={{ marginTop: 30 }}>\r\n                            <Text type=\"secondary\">\r\n                              This resolution will be sent to the plant team and the workflow will\r\n                              continue.\r\n                            </Text>\r\n                          </div>\r\n                        </Col>\r\n                      </Row>\r\n                    </Form>\r\n                  </div>\r\n                )}\r\n              </Col>\r\n              <Col span={8}>\r\n                {/* Shared Material Context and Query History */}\r\n                <ComponentErrorBoundary componentName=\"MaterialContextDisplay\">\r\n                  <MaterialContextDisplay\r\n                    materialCode={selectedQuery.materialCode}\r\n                    workflowId={selectedQuery.workflowId}\r\n                    compact={true}\r\n                  />\r\n                </ComponentErrorBoundary>\r\n                <ComponentErrorBoundary componentName=\"QueryHistoryTracker\">\r\n                  <QueryHistoryTracker\r\n                    materialCode={selectedQuery.materialCode}\r\n                    workflowId={selectedQuery.workflowId}\r\n                    compact={true}\r\n                  />\r\n                </ComponentErrorBoundary>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Modal>\r\n\r\n        <style>{`\r\n          .overdue-row {\r\n            background-color: #fff2f0;\r\n          }\r\n          .overdue-row:hover {\r\n            background-color: #ffebe6 !important;\r\n          }\r\n        `}</style>\r\n      </div>\r\n    </ComponentErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default QueryInbox;","import {\n  ClockCircleOutlined,\n  CheckCircleOutlined,\n  UserOutlined,\n  MessageOutlined,\n  HistoryOutlined\n} from '@ant-design/icons';\nimport {\n  Card,\n  Timeline,\n  Tag,\n  Typography,\n  Space,\n  Button,\n  Spin,\n  Empty,\n  Row,\n  Col,\n  Statistic\n} from 'antd';\nimport React, { useState, useEffect, useCallback } from 'react';\n\nimport apiClient from '../api/client';\nimport { getUserRole } from '../services/auth';\n\n\nconst { Text } = Typography;\n\nconst QueryHistoryTracker = ({ queryId, materialCode, workflowId, compact = false }) => {\n  const [loading, setLoading] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [stats, setStats] = useState({\n    totalQueries: 0,\n    resolvedQueries: 0,\n    avgResolutionTime: 0,\n    currentSLA: 0\n  });\n\n  // Define function before useEffect that depends on it\n  const loadQueryHistory = useCallback(async () => {\n    try {\n      setLoading(true);\n\n      // Get current user's role to filter queries\n      const userRole = getUserRole();\n      console.log('QueryHistoryTracker - userRole:', userRole);\n      \n      let endpoint = '/queries';\n      \n      // If specific query/workflow/material is requested, use those endpoints\n      if (queryId) {\n        endpoint += `/${queryId}/history`;\n      } else if (workflowId) {\n        endpoint += `/workflow/${workflowId}`;\n      } else if (materialCode) {\n        endpoint += `/material/${materialCode}`;\n      } else {\n        // Default: Get all resolved queries for the user's team\n        if (userRole) {\n          // Map user role to team name for the endpoint\n          const teamMap = {\n            'CQS_USER': 'CQS',\n            'TECH_USER': 'TECH', \n            'JVC_USER': 'JVC'\n          };\n          const team = teamMap[userRole];\n          console.log('QueryHistoryTracker - mapped team:', team);\n          if (team) {\n            endpoint += `/resolved/${team}`;\n          } else {\n            console.warn('QueryHistoryTracker - unknown role, using CQS fallback');\n            endpoint += `/resolved/CQS`; // fallback\n          }\n        } else {\n          endpoint += `/resolved/CQS`; // fallback if no role\n        }\n      }\n\n      console.log('QueryHistoryTracker - endpoint:', endpoint);\n      \n      const data = await apiClient.get(endpoint);\n      \n      console.log('QueryHistoryTracker - received data:', data);\n      console.log('QueryHistoryTracker - data type:', typeof data);\n      console.log('QueryHistoryTracker - is array:', Array.isArray(data));\n      console.log('QueryHistoryTracker - data length:', data?.length);\n      \n      const historyData = Array.isArray(data) ? data : (data ? [data] : []);\n      console.log('QueryHistoryTracker - setting history:', historyData);\n      setHistory(historyData);\n\n      // Calculate stats\n      const dataArray = Array.isArray(data) ? data : (data ? [data] : []);\n      const resolved = dataArray.filter(q => q.status === 'RESOLVED');\n      const avgTime =\n        resolved.length > 0\n          ? resolved.reduce((sum, q) => sum + (q.daysOpen || 0), 0) / resolved.length\n          : 0;\n\n      console.log('QueryHistoryTracker - stats calculation:', {\n        dataArray: dataArray.length,\n        resolved: resolved.length,\n        avgTime\n      });\n\n      setStats({\n        totalQueries: dataArray.length,\n        resolvedQueries: resolved.length,\n        avgResolutionTime: avgTime,\n        currentSLA: dataArray.filter(q => q.daysOpen > 3).length\n      });\n    } catch (error) {\n      console.error('Failed to load query history:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [queryId, materialCode, workflowId]);\n\n  useEffect(() => {\n    // Always load query history - either for specific context or all resolved queries for the team\n    loadQueryHistory();\n  }, [queryId, materialCode, workflowId, loadQueryHistory]);\n\n  const getStatusColor = status => {\n    return status === 'OPEN' ? 'red' : 'green';\n  };\n\n  const getTeamColor = team => {\n    const colors = {\n      CQS: 'blue',\n      TECH: 'purple',\n      JVC: 'orange'\n    };\n    return colors[team] || 'default';\n  };\n\n  const getPriorityColor = priority => {\n    const colors = {\n      LOW: 'blue',\n      MEDIUM: 'orange',\n      HIGH: 'red',\n      URGENT: 'purple'\n    };\n    return colors[priority] || 'default';\n  };\n\n  const formatTimelineItem = query => {\n    const isResolved = query.status === 'RESOLVED';\n\n    return {\n      dot: isResolved ? (\n        <CheckCircleOutlined style={{ color: '#52c41a' }} />\n      ) : (\n        <ClockCircleOutlined style={{ color: '#faad14' }} />\n      ),\n      color: isResolved ? 'green' : 'blue',\n      children: (\n        <div style={{ padding: '12px', border: '1px solid #f0f0f0', borderRadius: '8px', marginBottom: '8px' }}>\n          {/* Header with Query ID and Status */}\n          <div style={{ marginBottom: 12 }}>\n            <Space wrap>\n              <Text strong style={{ fontSize: '16px' }}>Query #{query.id}</Text>\n              <Tag color={getStatusColor(query.status)}>{query.status}</Tag>\n              <Tag color={getTeamColor(query.assignedTeam)}>{query.assignedTeam}</Tag>\n              {query.priorityLevel && (\n                <Tag color={getPriorityColor(query.priorityLevel)}>{query.priorityLevel}</Tag>\n              )}\n            </Space>\n          </div>\n\n          {/* Material and Project Context */}\n          <div style={{ marginBottom: 12, padding: '8px', background: '#fafafa', borderRadius: '4px' }}>\n            <Row gutter={16}>\n              {query.materialCode && (\n                <Col span={8}>\n                  <Text strong style={{ color: '#1890ff' }}>Material:</Text>\n                  <div style={{ fontSize: '14px' }}>{query.materialCode}</div>\n                  {query.materialName && (\n                    <div style={{ fontSize: '12px', color: '#666' }}>{query.materialName}</div>\n                  )}\n                </Col>\n              )}\n              {query.projectCode && (\n                <Col span={8}>\n                  <Text strong style={{ color: '#1890ff' }}>Project:</Text>\n                  <div style={{ fontSize: '14px' }}>{query.projectCode}</div>\n                </Col>\n              )}\n              {query.plantCode && (\n                <Col span={8}>\n                  <Text strong style={{ color: '#1890ff' }}>Plant:</Text>\n                  <div style={{ fontSize: '14px' }}>{query.plantCode}</div>\n                </Col>\n              )}\n            </Row>\n          </div>\n\n\n\n          {/* Original Questionnaire Question */}\n          {query.originalQuestion && (\n            <div style={{ marginBottom: 12, padding: '8px', background: '#f6ffed', borderRadius: '4px', border: '1px solid #b7eb8f' }}>\n              <Text strong style={{ color: '#52c41a' }}>Original Questionnaire Question:</Text>\n              <div style={{ fontSize: '14px', fontStyle: 'italic', marginTop: '4px' }}>\n                {query.originalQuestion}\n              </div>\n            </div>\n          )}\n\n          {/* Query Text (What was asked) */}\n          <div style={{ marginBottom: 12, padding: '8px', background: '#fff7e6', borderRadius: '4px', border: '1px solid #ffd591' }}>\n            <Text strong style={{ color: '#fa8c16' }}>Query Text (What was asked):</Text>\n            <div style={{ fontSize: '14px', marginTop: '4px', whiteSpace: 'pre-wrap' }}>\n              {query.question || 'No query text available'}\n            </div>\n          </div>\n\n          {/* Query Metadata */}\n          <div style={{ fontSize: '12px', color: '#666', marginBottom: 12 }}>\n            <Row gutter={16}>\n              <Col span={8}>\n                <UserOutlined /> <strong>Raised by:</strong> {query.raisedBy}\n              </Col>\n              <Col span={8}>\n                <ClockCircleOutlined /> <strong>Created:</strong> {query.createdAt && new Date(query.createdAt).toLocaleString()}\n              </Col>\n              <Col span={8}>\n                <strong>Days open:</strong> {query.daysOpen || 0}\n              </Col>\n            </Row>\n          </div>\n\n          {/* Resolution Section */}\n          {query.response && (\n            <div style={{ marginTop: 12, padding: '12px', background: '#f0f9ff', borderRadius: '6px', borderLeft: '4px solid #1890ff' }}>\n              <div style={{ marginBottom: 8 }}>\n                <Text strong style={{ fontSize: '15px', color: '#1890ff' }}>Resolution:</Text>\n              </div>\n              <div style={{ marginBottom: 8, fontSize: '14px', whiteSpace: 'pre-wrap' }}>\n                {query.response}\n              </div>\n              <div style={{ fontSize: '12px', color: '#666' }}>\n                <Row gutter={16}>\n                  <Col span={12}>\n                    <UserOutlined /> <strong>Resolved by:</strong> {query.resolvedBy}\n                  </Col>\n                  <Col span={12}>\n                    <ClockCircleOutlined /> <strong>Resolved on:</strong> {query.resolvedAt && new Date(query.resolvedAt).toLocaleString()}\n                  </Col>\n                </Row>\n              </div>\n            </div>\n          )}\n\n          {/* Query Category if available */}\n          {query.queryCategory && (\n            <div style={{ marginTop: 8 }}>\n              <Text strong style={{ fontSize: '12px', color: '#722ed1' }}>Category: </Text>\n              <Tag color=\"purple\">{query.queryCategory}</Tag>\n            </div>\n          )}\n        </div>\n      )\n    };\n  };\n\n  if (loading) {\n    return (\n      <Card size=\"small\">\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n          <Spin size=\"small\" />\n          <div style={{ marginTop: 8 }}>Loading query history...</div>\n        </div>\n      </Card>\n    );\n  }\n\n  if (compact) {\n    return (\n      <Card\n        size=\"small\"\n        title={\n          <Space>\n            <HistoryOutlined />\n            <span>\n              {queryId ? 'Query History' : \n               workflowId ? 'Workflow Queries' :\n               materialCode ? 'Material Queries' :\n               'Team History'}\n            </span>\n          </Space>\n        }\n        style={{ marginBottom: 16 }}\n      >\n        {/* Stats Summary */}\n        <Row gutter={16} style={{ marginBottom: 16 }}>\n          <Col span={6}>\n            <Statistic title=\"Total\" value={stats.totalQueries} prefix={<MessageOutlined />} />\n          </Col>\n          <Col span={6}>\n            <Statistic\n              title=\"Resolved\"\n              value={stats.resolvedQueries}\n              prefix={<CheckCircleOutlined />}\n              valueStyle={{ color: '#3f8600' }}\n            />\n          </Col>\n          <Col span={6}>\n            <Statistic\n              title=\"Avg Days\"\n              value={stats.avgResolutionTime}\n              precision={1}\n              prefix={<ClockCircleOutlined />}\n            />\n          </Col>\n          <Col span={6}>\n            <Statistic\n              title=\"Overdue\"\n              value={stats.currentSLA}\n              prefix={<ClockCircleOutlined />}\n              valueStyle={{ color: stats.currentSLA > 0 ? '#cf1322' : '#3f8600' }}\n            />\n          </Col>\n        </Row>\n\n        {/* Recent Queries - Compact Timeline */}\n        {history.length > 0 && (\n          <div>\n            <Text strong style={{ fontSize: '14px', marginBottom: '8px', display: 'block' }}>\n              Recent Queries ({Math.min(history.length, 3)})\n            </Text>\n            <Timeline \n              size=\"small\"\n              items={history.slice(0, 3).map(query => ({\n                dot: query.status === 'RESOLVED' ? (\n                  <CheckCircleOutlined style={{ color: '#52c41a', fontSize: '12px' }} />\n                ) : (\n                  <ClockCircleOutlined style={{ color: '#faad14', fontSize: '12px' }} />\n                ),\n                children: (\n                  <div style={{ fontSize: '12px' }}>\n                    <div style={{ marginBottom: '4px' }}>\n                      <Space size=\"small\">\n                        <Text strong>#{query.id}</Text>\n                        <Tag size=\"small\" color={getStatusColor(query.status)}>{query.status}</Tag>\n                        <Tag size=\"small\" color={getTeamColor(query.assignedTeam)}>{query.assignedTeam}</Tag>\n                      </Space>\n                    </div>\n                    <div style={{ color: '#666', marginBottom: '2px' }}>\n                      {query.materialCode && `${query.materialCode} • `}\n                      {query.projectCode && `${query.projectCode} • `}\n                      {query.plantCode}\n                    </div>\n                    <div style={{ color: '#333', marginBottom: '4px' }}>\n                      {query.question && query.question.length > 60 \n                        ? `${query.question.substring(0, 60)}...` \n                        : query.question}\n                    </div>\n                    {query.response && (\n                      <div style={{ \n                        background: '#f0f9ff', \n                        padding: '4px 8px', \n                        borderRadius: '4px', \n                        marginTop: '4px',\n                        borderLeft: '2px solid #1890ff'\n                      }}>\n                        <Text style={{ fontSize: '11px', color: '#666' }}>\n                          Resolved by {query.resolvedBy}: {query.response.length > 50 \n                            ? `${query.response.substring(0, 50)}...` \n                            : query.response}\n                        </Text>\n                      </div>\n                    )}\n                  </div>\n                )\n              }))}\n            />\n            {history.length > 3 && (\n              <Text type=\"secondary\" style={{ fontSize: '11px' }}>\n                ... and {history.length - 3} more queries\n              </Text>\n            )}\n          </div>\n        )}\n      </Card>\n    );\n  }\n\n  return (\n    <Card\n      title={\n        <Space>\n          <HistoryOutlined />\n          <span>\n            {queryId ? 'Query History' : \n             workflowId ? 'Workflow Query History' :\n             materialCode ? 'Material Query History' :\n             'Team Resolved Queries'}\n          </span>\n        </Space>\n      }\n      size=\"small\"\n      extra={\n        <Button size=\"small\" icon={<HistoryOutlined />} onClick={loadQueryHistory}>\n          Refresh\n        </Button>\n      }\n    >\n      {/* Stats Summary */}\n      <Row gutter={16} style={{ marginBottom: 16 }}>\n        <Col span={6}>\n          <Statistic\n            title=\"Total Queries\"\n            value={stats.totalQueries}\n            prefix={<MessageOutlined />}\n          />\n        </Col>\n        <Col span={6}>\n          <Statistic\n            title=\"Resolved\"\n            value={stats.resolvedQueries}\n            prefix={<CheckCircleOutlined />}\n            valueStyle={{ color: '#3f8600' }}\n          />\n        </Col>\n        <Col span={6}>\n          <Statistic\n            title=\"Avg Resolution Time\"\n            value={stats.avgResolutionTime}\n            precision={1}\n            suffix=\"days\"\n            prefix={<ClockCircleOutlined />}\n          />\n        </Col>\n        <Col span={6}>\n          <Statistic\n            title=\"Overdue Queries\"\n            value={stats.currentSLA}\n            prefix={<ClockCircleOutlined />}\n            valueStyle={{ color: stats.currentSLA > 0 ? '#cf1322' : '#3f8600' }}\n          />\n        </Col>\n      </Row>\n\n      {/* Timeline */}\n      {history.length > 0 ? (\n        <Timeline items={history.map(formatTimelineItem)} mode=\"left\" />\n      ) : (\n        <Empty description=\"No query history available\" image={Empty.PRESENTED_IMAGE_SIMPLE} />\n      )}\n    </Card>\n  );\n};\n\nexport default QueryHistoryTracker;\n"],"names":["Panel","Collapse","Text","Typography","_ref","_workflowData$state2","materialCode","workflowId","compact","loading","setLoading","useState","materialData","setMaterialData","workflowData","setWorkflowData","error","setError","loadMaterialContext","useCallback","async","promises","push","apiClient","get","then","data","Promise","resolve","id","name","description","category","supplier","hazardClass","physicalState","flashPoint","autoIgnitionTemp","density","solubility","ph","viscosity","all","console","useEffect","getWorkflowStateColor","state","JVC_PENDING","PLANT_PENDING","CQS_PENDING","TECH_PENDING","COMPLETED","getHazardClassColor","_jsx","Card","size","children","_jsxs","style","textAlign","padding","Spin","marginTop","Alert","message","type","showIcon","title","marginBottom","Space","direction","width","strong","Tag","color","_workflowData$state","replace","assignedPlant","InfoCircleOutlined","ghost","header","ExperimentOutlined","Descriptions","column","bordered","Item","label","background","borderRadius","FileTextOutlined","initiatedBy","createdAt","Date","toLocaleString","lastModified","SafetyCertificateOutlined","paddingLeft","Button","icon","onClick","Title","queryId","allowDelete","onDocumentDeleted","showBulkActions","currentUser","documents","setDocuments","downloadingIds","setDownloadingIds","Set","deletingIds","setDeletingIds","fetchDocuments","result","queryAPI","getQueryDocuments","formatFileSize","bytes","i","Math","floor","log","parseFloat","pow","toFixed","formatDate","dateString","toLocaleDateString","day","month","year","hour","minute","getFileIcon","fileName","FileOutlined","iconStyle","fontSize","toLowerCase","split","pop","handleDownload","prev","document","blob","downloadQueryDocument","url","window","URL","createObjectURL","link","createElement","href","download","originalFileName","body","appendChild","click","revokeObjectURL","removeChild","success","newSet","delete","handleDelete","deleteQueryDocument","filter","doc","groupedDocuments","reduce","groups","source","responseId","canDeleteDocument","uploadedBy","role","length","Empty","image","PRESENTED_IMAGE_SIMPLE","FolderOpenOutlined","extra","DownloadOutlined","info","setTimeout","warning","query","response","_Fragment","level","QuestionCircleOutlined","marginLeft","List","dataSource","renderItem","actions","Tooltip","has","Popconfirm","onConfirm","okText","cancelText","danger","DeleteOutlined","Meta","avatar","marginRight","fileSize","CalendarOutlined","uploadedAt","UserOutlined","Divider","MessageOutlined","TextArea","Input","Option","Select","team","queries","setQueries","filteredQueries","setFilteredQueries","selectedQuery","setSelectedQuery","queryModalVisible","setQueryModalVisible","resolveForm","Form","useForm","responseDocuments","setResponseDocuments","setResponseId","queryDocuments","setQueryDocuments","filters","setFilters","status","priority","material","daysOpen","project","plant","assignedTeam","hasAttachments","stats","setStats","total","open","resolved","resolvedToday","overdue","avgResolutionTime","loadQueries","signal","aborted","loadStats","openCount","resolvedCount","resolvedTodayCount","overdueCount","avgTime","catch","applyFilters","filtered","q","priorityLevel","_q$materialCode","_q$materialName","includes","materialName","_q$projectCode","projectCode","_q$plantCode","plantCode","threshold","parseInt","documentCount","controller","AbortController","fetchData","abort","loadQueryDocuments","getStatusColor","QUERY_STATUS","OPEN","getPriorityColor","LOW","MEDIUM","HIGH","URGENT","getDaysOpenColor","days","columns","dataIndex","key","render","text","record","ellipsis","_","PaperClipOutlined","PRIORITY_LEVELS","_record","progress","min","getSLAProgress","Progress","percent","showInfo","EyeOutlined","ComponentErrorBoundary","componentName","AsyncErrorBoundary","operation","onRetry","maxRetries","Row","gutter","Col","span","Statistic","value","prefix","valueStyle","ClockCircleOutlined","CheckCircleOutlined","ExclamationCircleOutlined","suffix","precision","align","placeholder","onChange","e","target","ReloadOutlined","FilterOutlined","margin","Table","pagination","pageSize","PAGINATION","DEFAULT_PAGE_SIZE","showSizeChanger","showQuickJumper","showTotal","range","rowKey","rowClassName","Modal","onCancel","resetFields","footer","submit","TEAM_NAMES","CQS","TECH","fieldName","border","fontWeight","stepNumber","stepTitle","originalQuestion","fontStyle","queryCategory","whiteSpace","minHeight","question","resolvedBy","resolvedAt","raisedBy","QueryDocumentList","showActions","form","layout","onFinish","resolveData","values","resolvedQuery","put","documentMessage","rules","required","rows","showCount","maxLength","fontFamily","QueryDocumentUpload","context","onUploadComplete","maxFiles","disabled","initialValue","MaterialContextDisplay","QueryHistoryTracker","history","setHistory","totalQueries","resolvedQueries","currentSLA","loadQueryHistory","userRole","getUserRole","endpoint","warn","Array","isArray","historyData","dataArray","sum","getTeamColor","JVC","HistoryOutlined","display","Timeline","items","slice","map","dot","substring","borderLeft","isResolved","wrap","mode"],"sourceRoot":""}