"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[286,353,801],{801:(e,s,l)=>{l.r(s),l.d(s,{default:()=>d});var t=l(5206),a=l(3217),i=l(3927),n=l(5043),r=l(6649),o=l(579);const{Title:c}=i.A,d=()=>{const[e,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(!1),d=async e=>{i(!0);try{const l=await r.default.get("/admin/sessions",{signal:e});if(null===e||void 0===e||!e.aborted){const e=Array.isArray(l)?l:[];s(e)}}catch(l){null!==e&&void 0!==e&&e.aborted||(console.error("Failed to fetch sessions:",l),s([]))}finally{null!==e&&void 0!==e&&e.aborted||i(!1)}};(0,n.useEffect)(()=>{const e=new AbortController;return d(e.signal),()=>{e.abort()}},[]);const u=[{title:"Session ID",dataIndex:"id",key:"id"},{title:"User",dataIndex:"user",key:"user"},{title:"Start Time",dataIndex:"startTime",key:"startTime"},{title:"Last Activity",dataIndex:"lastActivity",key:"lastActivity"},{title:"Actions",key:"actions",render:(e,s)=>(0,o.jsx)(t.Ay,{type:"primary",danger:!0,onClick:()=>(async e=>{try{await r.default.delete(`/admin/sessions/${e}`),d()}catch(s){console.error("Failed to terminate session:",s)}})(s.id),children:"Terminate"})}];return(0,o.jsxs)("div",{children:[(0,o.jsx)(c,{level:2,children:"Active Sessions"}),(0,o.jsx)(a.A,{columns:u,dataSource:e,rowKey:"id",loading:l})]})}},1353:(e,s,l)=>{l.r(s),l.d(s,{default:()=>x});var t=l(9126),a=l(5043),i=l(3216),n=l(5475),r=l(5423),o=l(5123),c=l(7286),d=l(8471),u=l(801),h=l(9108),A=l(4985),m=l(1255),y=l(579);const x=()=>{const e=(0,i.zy)(),s=(0,i.Zp)(),l=e.pathname,{isAdmin:x}=(0,o.hm)();return a.useEffect(()=>{"/qrmfg/admin"===l&&s("/qrmfg/admin/users")},[l,s]),(0,y.jsx)(r.ww,{children:(0,y.jsxs)("div",{style:{padding:24},children:[(0,y.jsx)("h2",{children:"Admin Panel"}),(0,y.jsx)(t.A,{mode:"horizontal",selectedKeys:[l],items:[{key:"/qrmfg/admin/users",label:"Users"},{key:"/qrmfg/admin/roles",label:"Roles"},{key:"/qrmfg/admin/auditlogs",label:"Audit Logs"},{key:"/qrmfg/admin/sessions",label:"Sessions"},{key:"/qrmfg/admin/workflow-monitoring",label:"Workflow Monitoring"},{key:"/qrmfg/admin/user-role-management",label:"User Role Management"}].map(e=>({...e,label:(0,y.jsx)(n.N_,{to:e.key,children:e.label})})),style:{marginBottom:24}}),(0,y.jsx)("div",{style:{marginTop:24},children:(0,y.jsxs)(i.BV,{children:[(0,y.jsx)(i.qh,{path:"users",element:(0,y.jsx)(A.default,{})}),(0,y.jsx)(i.qh,{path:"roles",element:(0,y.jsx)(d.default,{})}),(0,y.jsx)(i.qh,{path:"auditlogs",element:(0,y.jsx)(c.default,{})}),(0,y.jsx)(i.qh,{path:"sessions",element:(0,y.jsx)(u.default,{})}),(0,y.jsx)(i.qh,{path:"workflow-monitoring",element:(0,y.jsx)(m.default,{})}),(0,y.jsx)(i.qh,{path:"user-role-management",element:(0,y.jsx)(h.default,{})})]})})]})})}},2868:(e,s,l)=>{l.d(s,{aZ:()=>d,lX:()=>h,rb:()=>n,Bq:()=>u,fz:()=>i,cS:()=>o,tS:()=>A,r0:()=>c,EW:()=>t,sB:()=>r,Fv:()=>a});const t={MOBILE_BREAKPOINT:768,TABLET_BREAKPOINT:1024,PAGE_SIZE:10,DEBOUNCE_DELAY:300},a={INITIATED:"INITIATED",IN_PROGRESS:"IN_PROGRESS",PENDING_REVIEW:"PENDING_REVIEW",APPROVED:"APPROVED",REJECTED:"REJECTED",COMPLETED:"COMPLETED"},i={LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH",URGENT:"URGENT",CRITICAL:"CRITICAL"},n=(a.INITIATED,a.IN_PROGRESS,a.PENDING_REVIEW,a.APPROVED,a.REJECTED,a.COMPLETED,i.LOW,i.MEDIUM,i.HIGH,i.URGENT,i.CRITICAL,{MAX_UPLOAD_SIZE:26214400,BYTES_PER_KB:1024,BYTES_PER_MB:1048576,BYTES_PER_GB:1073741824}),r={JVC_PENDING:"JVC_PENDING",PLANT_PENDING:"PLANT_PENDING",CQS_PENDING:"CQS_PENDING",TECH_PENDING:"TECH_PENDING",DRAFT:"DRAFT",IN_PROGRESS:"IN_PROGRESS",SUBMITTED:"SUBMITTED"},o={OPEN:"OPEN",RESOLVED:"RESOLVED",CLOSED:"CLOSED"},c={CQS:"CQS",TECH:"TECH",JVC:"JVC",PLANT:"PLANT"},d={INTERVAL:3e4,DEBOUNCE_DELAY:2e3},u={DEFAULT_PAGE_SIZE:10,SMALL_PAGE_SIZE:5,LARGE_PAGE_SIZE:15,SHOW_SIZE_CHANGER:!0,SHOW_QUICK_JUMPER:!0},h={ALL:"all",COMPLETED:"completed",IN_PROGRESS:"in-progress",NOT_STARTED:"not-started"},A={INITIATE:"initiate",PENDING:"pending",COMPLETED:"completed",QUERIES:"queries",HISTORY:"history"}},5123:(e,s,l)=>{l.d(s,{hm:()=>n});var t=l(5043),a=l(3719),i=l(4642);const n=()=>{const[e,s]=(0,t.useState)(null),[l,n]=(0,t.useState)(!0),[r,o]=(0,t.useState)(null),c=(0,t.useCallback)(async()=>{if(!(0,a.wR)())return s(null),void n(!1);try{n(!0),o(null);const e=await i.A.getUserAccessSummary();s(e)}catch(e){console.warn("Failed to load access summary, using fallback:",e),o(e);const l=i.A.getFallbackAccessSummary();s(l)}finally{n(!1)}},[]);(0,t.useEffect)(()=>{c()},[c]);const d=(0,t.useCallback)(async e=>{try{return await i.A.hasScreenAccess(e)}catch(r){return console.warn("Screen access check failed, using fallback:",r),i.A.getFallbackScreenAccess(e)}},[]),u=(0,t.useCallback)(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await i.A.hasDataAccess(e,s)}catch(r){return console.warn("Data access check failed, using fallback:",r),i.A.getFallbackDataAccess(e,s)}},[]),h=(0,t.useCallback)(async function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return await i.A.hasPlantDataAccess(e,s,l)}catch(r){return console.warn("Plant data access check failed, using fallback:",r),i.A.getFallbackPlantDataAccess(e,s,l)}},[]),A=(0,t.useCallback)(async function(e,s,l){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{return await i.A.makeAccessDecision(e,s,l,t)}catch(r){return console.warn("Access decision failed, using fallback:",r),i.A.getFallbackAccessDecision(e,s,l,t)}},[]),m=(0,t.useCallback)((e,s)=>i.A.filterDataByPlantAccess(e,s),[]);return{loading:l,error:r,isAuthenticated:(0,a.wR)(),currentUser:(0,a.HW)(),primaryRole:(0,a.Jv)(),userPlants:(0,a.nT)(),primaryPlant:(0,a.bN)(),isAdmin:(0,a.qc)(),isJvcUser:(0,a.bV)(),isCqsUser:(0,a.po)(),isTechUser:(0,a.C9)(),isPlantUser:(0,a.X9)(),isViewer:(0,a.Z$)(),accessSummary:e,hasRole:e=>(0,a.hf)(e),hasAnyRole:e=>e.some(e=>(0,a.hf)(e)),hasAllRoles:e=>e.every(e=>(0,a.hf)(e)),checkScreenAccess:d,checkDataAccess:u,checkPlantDataAccess:h,makeAccessDecision:A,filterByPlantAccess:m,refresh:c}}},5423:(e,s,l)=>{l.d(s,{PK:()=>h,kz:()=>d,m6:()=>u,ww:()=>c,yE:()=>A});var t=l(4135),a=l(1686),i=(l(5043),l(3719)),n=l(1028),r=l(579);const o=e=>{let{children:s,roles:l=[],requireAll:n=!1,fallback:o=null,loading:c=!1,showFallback:d=!0}=e;if(c)return(0,r.jsx)(a.A,{size:"large"});if(!(0,i.wR)())return d?(0,r.jsx)(t.Ay,{status:"warning",title:"Authentication Required",subTitle:"Please log in to access this content."}):null;if(!l||0===l.length)return s;const u=(0,i.qc)(),h=n?l.every(e=>(0,i.hf)(e)):l.some(e=>(0,i.hf)(e));return u||h?s:o||(d?(0,r.jsx)(t.Ay,{status:"403",title:"Access Denied",subTitle:`This content requires one of the following roles: ${l.join(", ")} or ADMIN privileges`}):null)},c=e=>{let{children:s,fallback:l=null,showFallback:a=!0}=e;if(!(0,i.wR)())return a?(0,r.jsx)(t.Ay,{status:"warning",title:"Authentication Required",subTitle:"Please log in to access this content."}):null;const o=(0,i.HW)(),c=(0,i.qc)(),d=(0,i.hf)("ADMIN"),u=(0,i.hf)("admin"),h=(0,i.hf)("ROLE_ADMIN"),A=(0,i.gf)();let m=!1,y=!1;if(A)try{var x,g;const e=n.A.getTokenPayload(A);m=!0===(null===e||void 0===e?void 0:e.isAdmin),y=(null===e||void 0===e||null===(x=e.roles)||void 0===x?void 0:x.includes("ADMIN"))||(null===e||void 0===e||null===(g=e.authorities)||void 0===g?void 0:g.includes("ADMIN"))}catch(E){console.error("Error checking token in AdminOnly:",E)}const f=c||d||u||h||m||y;return console.log("AdminOnly Enhanced Debug:",{currentUser:o,adminStatus:c,hasAdminRole:d,hasAdminRoleLower:u,hasRoleAdmin:h,tokenIsAdmin:m,tokenHasAdminRole:y,finalHasAccess:f,token:A?"present":"missing"}),f?s:l||(a?(0,r.jsx)(t.Ay,{status:"403",title:"Access Denied",subTitle:`This content requires administrator privileges. Debug: user=${o}, isAdmin=${c}, hasRole=${d}, tokenAdmin=${m}`}):null)},d=e=>{let{children:s,fallback:l=null,showFallback:t=!0}=e;return(0,r.jsx)(o,{roles:["JVC_USER","JVC_ROLE","ADMIN"],fallback:l,showFallback:t,children:s})},u=e=>{let{children:s,fallback:l=null,showFallback:t=!0}=e;return(0,r.jsx)(o,{roles:["CQS_USER","CQS_ROLE","ADMIN"],fallback:l,showFallback:t,children:s})},h=e=>{let{children:s,fallback:l=null,showFallback:t=!0}=e;return(0,r.jsx)(o,{roles:["TECH_USER","TECH_ROLE","ADMIN"],fallback:l,showFallback:t,children:s})},A=e=>{let{children:s,fallback:l=null,showFallback:t=!0}=e;return(0,r.jsx)(o,{roles:["PLANT_USER","PLANT_ROLE","ADMIN"],fallback:l,showFallback:t,children:s})}},7286:(e,s,l)=>{l.r(s),l.d(s,{default:()=>g});var t=l(5206),a=l(1645),i=l(487),n=l(9098),r=l(5444),o=l(6569),c=l(7419),d=l(6553),u=l(3217),h=l(3927),A=l(5043),m=l(6649),y=l(579);const{Title:x}=h.A,g=()=>{const[e,s]=(0,A.useState)([]),[l,h]=(0,A.useState)(!1),[g]=n.A.useForm(),[f,E]=(0,A.useState)(!1),j=async e=>{h(!0);try{const l=await m.default.get("/audit/logs",{signal:e});if(null===e||void 0===e||!e.aborted){const e=Array.isArray(l)?l:[];s(e)}}catch(l){null!==e&&void 0!==e&&e.aborted||(o.Ay.error("Failed to fetch audit logs"),console.error("Error fetching audit logs:",l),s([]))}finally{null!==e&&void 0!==e&&e.aborted||h(!1)}};(0,A.useEffect)(()=>{const e=new AbortController;return j(e.signal),()=>{e.abort()}},[]);const p=[{title:"Timestamp",dataIndex:"timestamp",key:"timestamp",sorter:(e,s)=>new Date(e.timestamp)-new Date(s.timestamp)},{title:"User",dataIndex:"user",key:"user",sorter:(e,s)=>e.user.localeCompare(s.user)},{title:"Action",dataIndex:"action",key:"action",sorter:(e,s)=>e.action.localeCompare(s.action)},{title:"Details",dataIndex:"details",key:"details",width:"40%"}];return(0,y.jsxs)("div",{children:[(0,y.jsx)(x,{level:2,children:"Audit Logs"}),(0,y.jsx)(n.A,{form:g,layout:"vertical",onFinish:e=>{E(!0),(async e=>{h(!0);let l="/audit/logs";if(e)if(e.userId)l=`/audit/logs/user/${e.userId}`;else if(e.action)l=`/audit/logs/action/${e.action}`;else if(e.entityType)l=`/audit/logs/entity/${e.entityType}`;else if(e.severity)l=`/audit/logs/severity/${e.severity}`;else if(e.dateRange&&2===e.dateRange.length){const[s,t]=e.dateRange;l=`/audit/logs/date?start=${s.toISOString()}&end=${t.toISOString()}`}try{const e=await m.default.get(l),t=Array.isArray(e)?e:[];s(t)}catch(t){o.Ay.error("Failed to fetch audit logs"),console.error("Error fetching filtered audit logs:",t),s([])}finally{h(!1)}})(e).then(()=>E(!1))},style:{marginBottom:24},children:(0,y.jsxs)(c.A,{gutter:16,children:[(0,y.jsx)(a.A,{span:4,children:(0,y.jsx)(n.A.Item,{name:"userId",label:"User ID",children:(0,y.jsx)(r.A,{placeholder:"User ID"})})}),(0,y.jsx)(a.A,{span:4,children:(0,y.jsx)(n.A.Item,{name:"action",label:"Action",children:(0,y.jsx)(r.A,{placeholder:"Action"})})}),(0,y.jsx)(a.A,{span:4,children:(0,y.jsx)(n.A.Item,{name:"entityType",label:"Entity",children:(0,y.jsx)(r.A,{placeholder:"Entity Type"})})}),(0,y.jsx)(a.A,{span:4,children:(0,y.jsx)(n.A.Item,{name:"severity",label:"Severity",children:(0,y.jsxs)(d.A,{allowClear:!0,placeholder:"Select severity",children:[(0,y.jsx)(d.A.Option,{value:"INFO",children:"INFO"}),(0,y.jsx)(d.A.Option,{value:"WARN",children:"WARN"}),(0,y.jsx)(d.A.Option,{value:"ERROR",children:"ERROR"}),(0,y.jsx)(d.A.Option,{value:"SECURITY",children:"SECURITY"})]})})}),(0,y.jsx)(a.A,{span:6,children:(0,y.jsx)(n.A.Item,{name:"dateRange",label:"Date Range",children:(0,y.jsx)(i.A.RangePicker,{showTime:!0,style:{width:"100%"}})})}),(0,y.jsx)(a.A,{span:2,style:{display:"flex",alignItems:"end"},children:(0,y.jsx)(t.Ay,{type:"primary",htmlType:"submit",loading:f,children:"Filter"})}),(0,y.jsx)(a.A,{span:2,style:{display:"flex",alignItems:"end"},children:(0,y.jsx)(t.Ay,{onClick:()=>{g.resetFields(),j()},children:"Reset"})})]})}),(0,y.jsx)(u.A,{columns:p,dataSource:e,rowKey:"id",loading:l,bordered:!0})]})}},8471:(e,s,l)=>{l.r(s),l.d(s,{default:()=>E});var t=l(1966),a=l(7407),i=l(5337),n=l(5206),r=l(9098),o=l(5444),c=l(6569),d=l(2751),u=l(647),h=l(6051),A=l(3217),m=l(3927),y=l(5043),x=l(6649),g=l(579);const{Title:f}=m.A,E=()=>{const[e,s]=(0,y.useState)([]),[l,m]=(0,y.useState)(!1),[E,j]=(0,y.useState)(!1),[p,R]=(0,y.useState)(null),[I]=r.A.useForm(),k=async e=>{m(!0);try{const l=await x.default.get("/admin/roles",{signal:e});if(null===e||void 0===e||!e.aborted){const e=Array.isArray(l)?l:[];s(e)}}catch(l){null!==e&&void 0!==e&&e.aborted||(c.Ay.error("Failed to fetch roles"),console.error("Error fetching roles:",l),s([]))}finally{null!==e&&void 0!==e&&e.aborted||m(!1)}};(0,y.useEffect)(()=>{const e=new AbortController;return k(e.signal),()=>{e.abort()}},[]);const S=[{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"Actions",key:"actions",render:(e,s)=>(0,g.jsxs)(h.A,{children:[(0,g.jsx)(n.Ay,{icon:(0,g.jsx)(a.A,{}),onClick:()=>{return R(e=s),I.setFieldsValue(e),void j(!0);var e}}),(0,g.jsx)(u.A,{title:"Are you sure you want to delete this role?",onConfirm:()=>(async e=>{try{await x.default.delete(`/admin/roles/${e}`),c.Ay.success("Role deleted successfully"),k()}catch(s){c.Ay.error("Failed to delete role")}})(s.id),okText:"Yes",cancelText:"No",children:(0,g.jsx)(n.Ay,{icon:(0,g.jsx)(t.A,{}),danger:!0})})]})}];return(0,g.jsxs)("div",{children:[(0,g.jsx)(f,{level:2,children:"Roles"}),(0,g.jsx)(n.Ay,{type:"primary",icon:(0,g.jsx)(i.A,{}),onClick:()=>{R(null),I.resetFields(),j(!0)},style:{marginBottom:16},children:"Add Role"}),(0,g.jsx)(A.A,{columns:S,dataSource:e,rowKey:"id",loading:l}),(0,g.jsx)(d.A,{title:p?"Edit Role":"Add Role",open:E,onOk:async()=>{try{const e=await I.validateFields();p?(await x.default.put(`/admin/roles/${p.id}`,e),c.Ay.success("Role updated successfully")):(await x.default.post("/admin/roles",e),c.Ay.success("Role created successfully")),j(!1),I.resetFields(),k()}catch(e){e.errorFields||c.Ay.error("Failed to save role")}},onCancel:()=>j(!1),children:(0,g.jsxs)(r.A,{form:I,layout:"vertical",children:[(0,g.jsx)(r.A.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the role name!"}],children:(0,g.jsx)(o.A,{})}),(0,g.jsx)(r.A.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please input the role description!"}],children:(0,g.jsx)(o.A.TextArea,{})})]})})]})}},9108:(e,s,l)=>{l.r(s),l.d(s,{default:()=>k});var t=l(7407),a=l(8818),i=l(3722),n=l(5206),r=l(9073),o=l(6569),c=l(2751),d=l(6051),u=l(1686),h=l(3217),A=l(8918),m=l(3737),y=l(3927),x=l(5043),g=l(6649),f=l(2868),E=l(5991),j=l(579);const{Title:p,Text:R}=y.A,{TabPane:I}=A.A,k=()=>{const[e,s]=(0,x.useState)(!0),[l,y]=(0,x.useState)([]),[k,S]=(0,x.useState)(!1),[b,w]=(0,x.useState)(null),[T,v]=(0,x.useState)([]),[D,C]=(0,x.useState)([]),[P,N]=(0,x.useState)(!1);(0,x.useEffect)(()=>{const e=new AbortController;return _(e.signal),()=>{e.abort()}},[]);const _=async e=>{s(!0);try{const s=await g.default.get("/admin/monitoring/user-roles",{signal:e});if(null===e||void 0===e||!e.aborted){const e=(0,E.eC)(s);y(e)}}catch(l){null!==e&&void 0!==e&&e.aborted||(o.Ay.error("Failed to load user role assignments"),console.error("Error fetching user roles:",l),y([]))}finally{null!==e&&void 0!==e&&e.aborted||s(!1)}},O=[{title:"Username",dataIndex:"username",key:"username",sorter:(e,s)=>e.username.localeCompare(s.username)},{title:"Email",dataIndex:"email",key:"email"},{title:"Assigned Roles",dataIndex:"assignedRoles",key:"assignedRoles",render:e=>(e||[]).map(e=>e.name).join(", ")},{title:"Actions",key:"actions",render:(e,s)=>(0,j.jsx)(n.Ay,{type:"primary",icon:(0,j.jsx)(t.A,{}),onClick:()=>{return w(e=s),v([...(e.assignedRoles||[]).map(e=>({...e,key:e.id.toString()})),...(e.availableRoles||[]).map(e=>({...e,key:e.id.toString()}))]),C((e.assignedRoles||[]).map(e=>e.id.toString())),void S(!0);var e},children:"Edit Roles"})}];return(0,j.jsxs)("div",{children:[(0,j.jsx)(p,{level:2,children:"User Role Management"}),(0,j.jsxs)(A.A,{defaultActiveKey:"1",children:[(0,j.jsx)(I,{tab:(0,j.jsxs)("span",{children:[(0,j.jsx)(i.A,{}),"User Roles"]}),children:(0,j.jsxs)(r.A,{children:[(0,j.jsx)(n.Ay,{type:"primary",onClick:_,style:{marginBottom:16},children:"Refresh User Roles"}),e?(0,j.jsxs)("div",{style:{textAlign:"center",padding:"50px"},children:[(0,j.jsx)(u.A,{size:"large"}),(0,j.jsx)("p",{children:"Loading user role assignments..."})]}):(0,j.jsx)(h.A,{dataSource:l,columns:O,rowKey:"userId",pagination:{pageSize:f.Bq.DEFAULT_PAGE_SIZE}})]})},"1"),(0,j.jsx)(I,{tab:(0,j.jsxs)("span",{children:[(0,j.jsx)(a.A,{}),"Workflow Permissions"]}),children:(0,j.jsx)(r.A,{children:(0,j.jsxs)("div",{style:{padding:"20px"},children:[(0,j.jsx)(p,{level:4,children:"Workflow Role Permissions"}),(0,j.jsxs)(d.A,{direction:"vertical",style:{width:"100%"},children:[(0,j.jsx)(r.A,{title:"JVC User Permissions",size:"small",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"Initiate MSDS workflows for materials"}),(0,j.jsx)("li",{children:"Assign workflows to plant teams"}),(0,j.jsx)("li",{children:"View JVC dashboard with pending extensions"}),(0,j.jsx)("li",{children:"Respond to queries from plant teams"})]})}),(0,j.jsx)(r.A,{title:"Plant User Permissions",size:"small",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"Complete multi-step questionnaires"}),(0,j.jsx)("li",{children:"Raise queries to CQS/Tech/JVC teams"}),(0,j.jsx)("li",{children:"View plant dashboard with assigned materials"}),(0,j.jsx)("li",{children:"Mark materials as completed"})]})}),(0,j.jsx)(r.A,{title:"CQS User Permissions",size:"small",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"Receive and resolve queries from plant teams"}),(0,j.jsx)("li",{children:"View CQS dashboard with pending queries"}),(0,j.jsx)("li",{children:"Access material context for queries"})]})}),(0,j.jsx)(r.A,{title:"Tech User Permissions",size:"small",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"Receive and resolve technical queries from plant teams"}),(0,j.jsx)("li",{children:"View Tech dashboard with pending queries"}),(0,j.jsx)("li",{children:"Access material context for queries"})]})}),(0,j.jsx)(r.A,{title:"Admin Permissions",size:"small",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"Access workflow monitoring dashboard"}),(0,j.jsx)("li",{children:"Generate query SLA reports"}),(0,j.jsx)("li",{children:"Manage user roles and permissions"}),(0,j.jsx)("li",{children:"Export audit logs and workflow reports"}),(0,j.jsx)("li",{children:"View all workflows regardless of state"})]})})]}),(0,j.jsx)(R,{type:"secondary",style:{marginTop:16,display:"block"},children:"Note: Users can have multiple roles assigned to them. The permissions are cumulative."})]})})},"2")]}),(0,j.jsx)(c.A,{title:"Edit User Roles",open:k,onOk:async()=>{if(b){N(!0);try{const e=D.map(e=>parseInt(e,10));await g.default.put(`/admin/monitoring/user-roles/${b.userId}`,e),o.Ay.success("User roles updated successfully"),S(!1),_()}catch(e){o.Ay.error("Failed to update user roles"),console.error("Error updating user roles:",e)}finally{N(!1)}}},onCancel:()=>S(!1),width:800,confirmLoading:P,children:b&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"User:"})," ",b.username," (",b.email,")"]}),(0,j.jsx)("p",{children:"Assign or remove roles using the transfer control below:"}),(0,j.jsx)(m.A,{dataSource:T,titles:["Available Roles","Assigned Roles"],targetKeys:D,onChange:e=>{C(e)},render:e=>e.name,listStyle:{width:350,height:300}})]})})]})}}}]);
//# sourceMappingURL=353.acdfe445.chunk.js.map