"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[749],{543:(e,t,r)=>{r.d(t,{$r:()=>a,BS:()=>l,kV:()=>s});const n=["parentNode"],o="form_item";function a(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function s(e,t){if(!e.length)return;const r=e.join("_");if(t)return`${t}_${r}`;return n.includes(r)?`${o}_${r}`:r}function l(e,t,r,n,o,a){let s=n;return void 0!==a?s=a:r.validating?s="validating":e.length?s="error":t.length?s="warning":(r.touched||o&&r.validated)&&(s="success"),s}},2058:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(8168),o=r(5043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var s=r(2172),l=function(e,t){return o.createElement(s.A,(0,n.A)({},e,{ref:t,icon:a}))};const i=o.forwardRef(l)},3499:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(5043);function o(e,t){const r=(0,n.useRef)([]),o=()=>{r.current.push(setTimeout(()=>{var t,r,n,o;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(r=e.current)||void 0===r?void 0:r.input.getAttribute("type"))&&(null===(n=e.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(o=e.current)||void 0===o||o.input.removeAttribute("value"))}))};return(0,n.useEffect)(()=>(t&&o(),()=>r.current.forEach(e=>{e&&clearTimeout(e)})),[]),o}},5975:(e,t,r)=>{r.d(t,{A:()=>b,H:()=>m});var n=r(5043),o=r(8072),a=r(5593);const s=e=>"object"==typeof e&&null!=e&&1===e.nodeType,l=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,i=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return l(r.overflowY,t)||l(r.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},c=(e,t,r,n,o,a,s,l)=>a<e&&s>t||a>e&&s<t?0:a<=e&&l<=r||s>=t&&l>=r?a-e-n:s>t&&l<r||a<e&&l>r?s-t+o:0,d=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},u=(e,t)=>{var r,n,o,a;if("undefined"==typeof document)return[];const{scrollMode:l,block:u,inline:p,boundary:f,skipOverflowHiddenElements:g}=t,m="function"==typeof f?f:e=>e!==f;if(!s(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,b=[];let y=e;for(;s(y)&&m(y);){if(y=d(y),y===h){b.push(y);break}null!=y&&y===document.body&&i(y)&&!i(document.documentElement)||null!=y&&i(y,g)&&b.push(y)}const v=null!=(n=null==(r=window.visualViewport)?void 0:r.width)?n:innerWidth,w=null!=(a=null==(o=window.visualViewport)?void 0:o.height)?a:innerHeight,{scrollX:x,scrollY:C}=window,{height:j,width:A,top:S,right:k,bottom:N,left:F}=e.getBoundingClientRect(),{top:O,right:T,bottom:I,left:E}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let R="start"===u||"nearest"===u?S-O:"end"===u?N+I:S+j/2-O+I,W="center"===p?F+A/2-E+T:"end"===p?k+T:F-E;const M=[];for(let s=0;s<b.length;s++){const e=b[s],{height:t,width:r,top:n,right:o,bottom:a,left:d}=e.getBoundingClientRect();if("if-needed"===l&&S>=0&&F>=0&&N<=w&&k<=v&&(e===h&&!i(e)||S>=n&&N<=a&&F>=d&&k<=o))return M;const f=getComputedStyle(e),g=parseInt(f.borderLeftWidth,10),m=parseInt(f.borderTopWidth,10),y=parseInt(f.borderRightWidth,10),O=parseInt(f.borderBottomWidth,10);let T=0,I=0;const E="offsetWidth"in e?e.offsetWidth-e.clientWidth-g-y:0,z="offsetHeight"in e?e.offsetHeight-e.clientHeight-m-O:0,$="offsetWidth"in e?0===e.offsetWidth?0:r/e.offsetWidth:0,P="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(h===e)T="start"===u?R:"end"===u?R-w:"nearest"===u?c(C,C+w,w,m,O,C+R,C+R+j,j):R-w/2,I="start"===p?W:"center"===p?W-v/2:"end"===p?W-v:c(x,x+v,v,g,y,x+W,x+W+A,A),T=Math.max(0,T+C),I=Math.max(0,I+x);else{T="start"===u?R-n-m:"end"===u?R-a+O+z:"nearest"===u?c(n,a,t,m,O+z,R,R+j,j):R-(n+t/2)+z/2,I="start"===p?W-d-g:"center"===p?W-(d+r/2)+E/2:"end"===p?W-o+y+E:c(d,o,r,g,y+E,W,W+A,A);const{scrollLeft:s,scrollTop:l}=e;T=0===P?0:Math.max(0,Math.min(l+T/P,e.scrollHeight-t/P+z)),I=0===$?0:Math.max(0,Math.min(s+I/$,e.scrollWidth-r/$+E)),R+=l-T,W+=s-I}M.push({el:e,top:T,left:I})}return M},p=e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"};var f=r(543),g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};function m(e){return(0,f.$r)(e).join("_")}function h(e,t){const r=t.getFieldInstance(e),n=(0,a.rb)(r);if(n)return n;const o=(0,f.kV)((0,f.$r)(e),t.__INTERNAL__.name);return o?document.getElementById(o):void 0}function b(e){const[t]=(0,o.mN)(),r=n.useRef({}),a=n.useMemo(()=>null!==e&&void 0!==e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{const n=m(e);t?r.current[n]=t:delete r.current[n]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{focus:r}=t,n=g(t,["focus"]),o=h(e,a);o&&(!function(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const r=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(u(e,t));const n="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:o,top:a,left:s}of u(e,p(t))){const e=a-r.top+r.bottom,t=s-r.left+r.right;o.scroll({top:e,left:t,behavior:n})}}(o,Object.assign({scrollMode:"if-needed",block:"nearest"},n)),r&&a.focusField(e))},focusField:e=>{var t,r;const n=a.getFieldInstance(e);"function"===typeof(null===n||void 0===n?void 0:n.focus)?n.focus():null===(r=null===(t=h(e,a))||void 0===t?void 0:t.focus)||void 0===r||r.call(t)},getFieldInstance:e=>{const t=m(e);return r.current[t]}}),[e,t]);return[a]}},6274:(e,t,r)=>{r.d(t,{Ay:()=>g,eS:()=>d,lE:()=>f,wS:()=>u});var n=r(9098),o=r(5444),a=r(6569),s=r(5043),l=r(599),i=r(579);const{TextArea:c}=o.A,d=s.memo(e=>{let{value:t,onChange:r,validationType:n="text",componentName:c="SecureInput",fieldName:d="input",onValidationChange:u,...p}=e;const{validateInput:f}=(0,l.j8)(),[g,m]=(0,s.useState)({isValid:!0,errors:[],wasModified:!1}),h=(0,s.useCallback)(e=>{const t=e.target.value,o=f(t,n);m(o),o.wasModified&&(l.qp.logXSSAttempt(t,o.sanitizedValue,c,d),a.Ay.warning("Input was sanitized for security reasons")),r&&r({...e,target:{...e.target,value:o.sanitizedValue}}),u&&u(o)},[r,n,c,d,u,f]);return(0,i.jsx)(o.A,{...p,value:t,onChange:h,status:g.isValid?"":"error",title:g.errors.join(", ")})}),u=s.memo(e=>{let{value:t,onChange:r,validationType:n="richtext",componentName:o="SecureTextArea",fieldName:d="textarea",onValidationChange:u,...p}=e;const{validateInput:f}=(0,l.j8)(),[g,m]=(0,s.useState)({isValid:!0,errors:[],wasModified:!1}),h=(0,s.useCallback)(e=>{const t=e.target.value,s=f(t,n);m(s),s.wasModified&&(l.qp.logXSSAttempt(t,s.sanitizedValue,o,d),a.Ay.warning("Input was sanitized for security reasons")),r&&r({...e,target:{...e.target,value:s.sanitizedValue}}),u&&u(s)},[r,n,o,d,u,f]);return(0,i.jsx)(c,{...p,value:t,onChange:h,status:g.isValid?"":"error",title:g.errors.join(", ")})}),p=s.memo(e=>{let{children:t,onFinish:r,componentName:o="SecureForm",enableSecurityLogging:c=!0,...d}=e;const[u,p]=(0,s.useState)([]),f=(0,s.useCallback)(async e=>{try{const t={},n=[];Object.keys(e).forEach(r=>{const o=e[r];if("string"===typeof o){const e=l.SR.sanitizeText(o);t[r]=e,e!==o&&n.push({field:r,originalValue:o.substring(0,50),sanitizedValue:e.substring(0,50)})}else t[r]=o}),n.length>0&&c&&(n.forEach(e=>{l.qp.logXSSAttempt(e.originalValue,e.sanitizedValue,o,e.field)}),a.Ay.warning(`${n.length} field(s) were sanitized for security`)),r&&await r(t)}catch(t){throw console.error("SecureForm submission error:",t),a.Ay.error("Form submission failed"),t}},[r,o,c]);return(0,s.useEffect)(()=>{if(c){const e=l.qp.getRecentEvents();p(e.slice(-10))}},[c]),(0,i.jsxs)(n.A,{...d,onFinish:f,validateTrigger:["onChange","onBlur"],children:[t,!1]})}),f=s.memo(e=>{let{children:t,validationType:r="text",name:o,rules:a=[],...c}=e;const d=s.useMemo(()=>{let e=[];switch(r){case"username":e=l.PT.username;break;case"email":e=l.PT.email;break;case"password":e=l.PT.password;break;case"projectCode":e=l.PT.projectCode;break;case"materialCode":e=l.PT.materialCode;break;case"plantCode":e=l.PT.plantCode;break;case"text":e=l.PT.text(!1,0,255);break;case"richtext":e=l.PT.richText(!1,0,1e3);break;default:e=[]}return[...e,...a]},[r,a]);return(0,i.jsx)(n.A.Item,{...c,name:o,rules:d,children:t})});d.displayName="SecureInput",u.displayName="SecureTextArea",p.displayName="SecureForm",f.displayName="SecureFormItem";const g=p},6761:(e,t,r)=>{r.d(t,{A:()=>x});var n=r(5043),o=r(8139),a=r.n(o),s=r(6371),l=r(3758),i=r(6278),c=r(9728),d=r(7689),u=r(5296),p=r(8440),f=r(8887),g=r(9122),m=r(6436),h=r(2805),b=r(5132),y=r(3499),v=r(5213);var w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const x=(0,n.forwardRef)((e,t)=>{const{prefixCls:r,bordered:o=!0,status:x,size:C,disabled:j,onBlur:A,onFocus:S,suffix:k,allowClear:N,addonAfter:F,addonBefore:O,className:T,style:I,styles:E,rootClassName:R,onChange:W,classNames:M,variant:z}=e,$=w(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:P,direction:V,allowClear:B,autoComplete:L,className:H,style:_,classNames:q,styles:X}=(0,u.TP)("input"),D=P("input",r),G=(0,n.useRef)(null),Q=(0,f.A)(D),[Y,K,U]=(0,v.MG)(D,R),[J]=(0,v.Ay)(D,Q),{compactSize:Z,compactItemClassnames:ee}=(0,b.RQ)(D,V),te=(0,g.A)(e=>{var t;return null!==(t=null!==C&&void 0!==C?C:Z)&&void 0!==t?t:e}),re=n.useContext(p.A),ne=null!==j&&void 0!==j?j:re,{status:oe,hasFeedback:ae,feedbackIcon:se}=(0,n.useContext)(m.$W),le=(0,d.v)(oe,x),ie=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!ae;(0,n.useRef)(ie);const ce=(0,y.A)(G,!0),de=(ae||k)&&n.createElement(n.Fragment,null,k,ae&&se),ue=(0,c.A)(null!==N&&void 0!==N?N:B),[pe,fe]=(0,h.A)("input",z,o);return Y(J(n.createElement(s.A,Object.assign({ref:(0,l.K4)(t,G),prefixCls:D,autoComplete:L},$,{disabled:ne,onBlur:e=>{ce(),null===A||void 0===A||A(e)},onFocus:e=>{ce(),null===S||void 0===S||S(e)},style:Object.assign(Object.assign({},_),I),styles:Object.assign(Object.assign({},X),E),suffix:de,allowClear:ue,className:a()(T,R,U,Q,ee,H),onChange:e=>{ce(),null===W||void 0===W||W(e)},addonBefore:O&&n.createElement(i.A,{form:!0,space:!0},O),addonAfter:F&&n.createElement(i.A,{form:!0,space:!0},F),classNames:Object.assign(Object.assign(Object.assign({},M),q),{input:a()({[`${D}-sm`]:"small"===te,[`${D}-lg`]:"large"===te,[`${D}-rtl`]:"rtl"===V},null===M||void 0===M?void 0:M.input,q.input,K),variant:a()({[`${D}-${pe}`]:fe},(0,d.L)(D,le)),affixWrapper:a()({[`${D}-affix-wrapper-sm`]:"small"===te,[`${D}-affix-wrapper-lg`]:"large"===te,[`${D}-affix-wrapper-rtl`]:"rtl"===V},K),wrapper:a()({[`${D}-group-rtl`]:"rtl"===V},K),groupWrapper:a()({[`${D}-group-wrapper-sm`]:"small"===te,[`${D}-group-wrapper-lg`]:"large"===te,[`${D}-group-wrapper-rtl`]:"rtl"===V,[`${D}-group-wrapper-${pe}`]:fe},(0,d.L)(`${D}-group-wrapper`,le,ae),K)})}))))})},8478:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(3927),o=r(9073),a=r(2261),s=r(9098),l=r(5444),i=r(5206),c=r(5043),d=r(6649),u=r(6274),p=r(3719),f=r(349);const g=(e,t)=>{f.Ay.error({message:e,description:t})};var m=r(579);const{Title:h}=n.A,b=()=>{const[e,t]=(0,c.useState)(!1),[r,n]=(0,c.useState)("");return(0,m.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",margin:0,overflow:"auto"},children:(0,m.jsxs)(o.A,{style:{width:400,borderRadius:"16px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",border:"none",overflow:"hidden"},styles:{body:{padding:"40px 32px"}},children:[(0,m.jsxs)("div",{style:{textAlign:"center",marginBottom:32},children:[(0,m.jsx)("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"24px",fontWeight:"bold",color:"white"},children:"QR"}),(0,m.jsx)(h,{level:2,style:{margin:0,color:"#1a1a1a",fontWeight:"600",fontSize:"28px"},children:"QRMFG Portal"}),(0,m.jsx)("p",{style:{color:"#666",margin:"8px 0 0",fontSize:"14px"},children:"Welcome back! Please sign in to continue"})]}),r&&(0,m.jsx)(a.A,{message:r,type:"error",showIcon:!0,style:{marginBottom:24,borderRadius:"8px",border:"none"}}),(0,m.jsxs)(u.Ay,{layout:"vertical",onFinish:async e=>{t(!0),n(""),console.log("Form submitted!",e);try{const t=await d.default.post("/auth/login",e);t&&t.token?((0,p.WG)(t.token),r="Login Successful",o="Welcome!",f.Ay.success({message:r,description:o}),window.location.href="/qrmfg"):(g("Login Failed","No token returned"),n("Login failed: No token returned"))}catch(a){const e=a.data&&a.data.message?a.data.message:a.message||"Invalid username or password";g("Login Failed",e),n(e)}finally{t(!1)}var r,o},autoComplete:"off",initialValues:{username:"",password:""},componentName:"LoginForm",enableSecurityLogging:!0,children:[(0,m.jsx)(u.lE,{name:"username",label:(0,m.jsx)("span",{style:{color:"#333",fontWeight:"500"},children:"Username"}),validationType:"username",style:{marginBottom:"20px"},children:(0,m.jsx)(u.eS,{size:"large",autoFocus:!0,placeholder:"Enter your username",autoComplete:"username",validationType:"username",componentName:"LoginForm",fieldName:"username",style:{borderRadius:"8px",border:"1px solid #e1e5e9",fontSize:"14px"}})}),(0,m.jsx)(s.A.Item,{name:"password",label:(0,m.jsx)("span",{style:{color:"#333",fontWeight:"500"},children:"Password"}),rules:[{required:!0,message:"Please enter your password"}],style:{marginBottom:"24px"},children:(0,m.jsx)(l.A.Password,{size:"large",placeholder:"Enter your password",autoComplete:"current-password",style:{borderRadius:"8px",border:"1px solid #e1e5e9",fontSize:"14px"}})}),(0,m.jsx)(s.A.Item,{children:(0,m.jsx)(i.Ay,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:e,style:{height:"48px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",fontSize:"16px",fontWeight:"500",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.4)"},children:"Sign In"})})]})]})})}}}]);
//# sourceMappingURL=749.fc832515.chunk.js.map